import{e as Gt}from"./base-DIkkzJ-c.js";import{i as Kt,k as ht,D as Lt}from"./lit-element-D5KKan5q.js";import{u as qt,C as kt,n as w}from"./index-C9z9WAEj.js";import{t as Yt}from"./if-defined-D5BV9-c0.js";import{F as Xt}from"./FocusTrapMixin-SA_WaGa6.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function je(e){return(t,o)=>{const{slot:i}={},r="slot"+(i?`[name=${i}]`:":not([name])");return Gt(t,o,{get(){var s;const n=(s=this.renderRoot)==null?void 0:s.querySelector(r);return(n==null?void 0:n.assignedNodes(e))??[]}})}}const G=Math.min,L=Math.max,at=Math.round,st=Math.floor,F=e=>({x:e,y:e}),Zt={left:"right",right:"left",bottom:"top",top:"bottom"},Jt={start:"end",end:"start"};function gt(e,t,o){return L(e,G(t,o))}function et(e,t){return typeof e=="function"?e(t):e}function K(e){return e.split("-")[0]}function ot(e){return e.split("-")[1]}function Bt(e){return e==="x"?"y":"x"}function yt(e){return e==="y"?"height":"width"}function X(e){return["top","bottom"].includes(K(e))?"y":"x"}function wt(e){return Bt(X(e))}function Qt(e,t,o){o===void 0&&(o=!1);const i=ot(e),r=wt(e),n=yt(r);let s=r==="x"?i===(o?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[n]>t.floating[n]&&(s=ct(s)),[s,ct(s)]}function te(e){const t=ct(e);return[vt(e),t,vt(t)]}function vt(e){return e.replace(/start|end/g,t=>Jt[t])}function ee(e,t,o){const i=["left","right"],r=["right","left"],n=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:i:t?i:r;case"left":case"right":return t?n:s;default:return[]}}function oe(e,t,o,i){const r=ot(e);let n=ee(K(e),o==="start",i);return r&&(n=n.map(s=>s+"-"+r),t&&(n=n.concat(n.map(vt)))),n}function ct(e){return e.replace(/left|right|bottom|top/g,t=>Zt[t])}function ie(e){return{top:0,right:0,bottom:0,left:0,...e}}function It(e){return typeof e!="number"?ie(e):{top:e,right:e,bottom:e,left:e}}function pt(e){const{x:t,y:o,width:i,height:r}=e;return{width:i,height:r,top:o,left:t,right:t+i,bottom:o+r,x:t,y:o}}function Rt(e,t,o){let{reference:i,floating:r}=e;const n=X(t),s=wt(t),l=yt(s),a=K(t),c=n==="y",p=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[l]/2-r[l]/2;let f;switch(a){case"top":f={x:p,y:i.y-r.height};break;case"bottom":f={x:p,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(ot(t)){case"start":f[s]-=h*(o&&c?-1:1);break;case"end":f[s]+=h*(o&&c?-1:1);break}return f}const re=async(e,t,o)=>{const{placement:i="bottom",strategy:r="absolute",middleware:n=[],platform:s}=o,l=n.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:p,y:d}=Rt(c,i,a),h=i,f={},u=0;for(let m=0;m<l.length;m++){const{name:v,fn:g}=l[m],{x:b,y:E,data:T,reset:O}=await g({x:p,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});p=b??p,d=E??d,f={...f,[v]:{...f[v],...T}},O&&u<=50&&(u++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(c=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):O.rects),{x:p,y:d}=Rt(c,h,a)),m=-1)}return{x:p,y:d,placement:h,strategy:r,middlewareData:f}};async function xt(e,t){var o;t===void 0&&(t={});const{x:i,y:r,platform:n,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=et(t,e),u=It(f),v=l[h?d==="floating"?"reference":"floating":d],g=pt(await n.getClippingRect({element:(o=await(n.isElement==null?void 0:n.isElement(v)))==null||o?v:v.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(l.floating)),boundary:c,rootBoundary:p,strategy:a})),b=d==="floating"?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,E=await(n.getOffsetParent==null?void 0:n.getOffsetParent(l.floating)),T=await(n.isElement==null?void 0:n.isElement(E))?await(n.getScale==null?void 0:n.getScale(E))||{x:1,y:1}:{x:1,y:1},O=pt(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:E,strategy:a}):b);return{top:(g.top-O.top+u.top)/T.y,bottom:(O.bottom-g.bottom+u.bottom)/T.y,left:(g.left-O.left+u.left)/T.x,right:(O.right-g.right+u.right)/T.x}}const ne=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:i,placement:r,rects:n,platform:s,elements:l,middlewareData:a}=t,{element:c,padding:p=0}=et(e,t)||{};if(c==null)return{};const d=It(p),h={x:o,y:i},f=wt(r),u=yt(f),m=await s.getDimensions(c),v=f==="y",g=v?"top":"left",b=v?"bottom":"right",E=v?"clientHeight":"clientWidth",T=n.reference[u]+n.reference[f]-h[f]-n.floating[u],O=h[f]-n.reference[f],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let P=R?R[E]:0;(!P||!await(s.isElement==null?void 0:s.isElement(R)))&&(P=l.floating[E]||n.floating[u]);const H=T/2-O/2,I=P/2-m[u]/2-1,D=G(d[g],I),V=G(d[b],I),N=D,W=P-m[u]-V,C=P/2-m[u]/2+H,J=gt(N,C,W),z=!a.arrow&&ot(r)!=null&&C!==J&&n.reference[u]/2-(C<N?D:V)-m[u]/2<0,_=z?C<N?C-N:C-W:0;return{[f]:h[f]+_,data:{[f]:J,centerOffset:C-J-_,...z&&{alignmentOffset:_}},reset:z}}}),se=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,i;const{placement:r,middlewareData:n,rects:s,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:p=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:m=!0,...v}=et(e,t);if((o=n.arrow)!=null&&o.alignmentOffset)return{};const g=K(r),b=X(l),E=K(l)===l,T=await(a.isRTL==null?void 0:a.isRTL(c.floating)),O=h||(E||!m?[ct(l)]:te(l)),R=u!=="none";!h&&R&&O.push(...oe(l,m,u,T));const P=[l,...O],H=await xt(t,v),I=[];let D=((i=n.flip)==null?void 0:i.overflows)||[];if(p&&I.push(H[g]),d){const C=Qt(r,s,T);I.push(H[C[0]],H[C[1]])}if(D=[...D,{placement:r,overflows:I}],!I.every(C=>C<=0)){var V,N;const C=(((V=n.flip)==null?void 0:V.index)||0)+1,J=P[C];if(J)return{data:{index:C,overflows:D},reset:{placement:J}};let z=(N=D.filter(_=>_.overflows[0]<=0).sort((_,U)=>_.overflows[1]-U.overflows[1])[0])==null?void 0:N.placement;if(!z)switch(f){case"bestFit":{var W;const _=(W=D.filter(U=>{if(R){const j=X(U.placement);return j===b||j==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(j=>j>0).reduce((j,jt)=>j+jt,0)]).sort((U,j)=>U[1]-j[1])[0])==null?void 0:W[0];_&&(z=_);break}case"initialPlacement":z=l;break}if(r!==z)return{reset:{placement:z}}}return{}}}};async function le(e,t){const{placement:o,platform:i,elements:r}=e,n=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=K(o),l=ot(o),a=X(o)==="y",c=["left","top"].includes(s)?-1:1,p=n&&a?-1:1,d=et(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:u}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof u=="number"&&(f=l==="end"?u*-1:u),a?{x:f*p,y:h*c}:{x:h*c,y:f*p}}const ae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,i;const{x:r,y:n,placement:s,middlewareData:l}=t,a=await le(t,e);return s===((o=l.offset)==null?void 0:o.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+a.x,y:n+a.y,data:{...a,placement:s}}}}},ce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:i,placement:r}=t,{mainAxis:n=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:g,y:b}=v;return{x:g,y:b}}},...a}=et(e,t),c={x:o,y:i},p=await xt(t,a),d=X(K(r)),h=Bt(d);let f=c[h],u=c[d];if(n){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",b=f+p[v],E=f-p[g];f=gt(b,f,E)}if(s){const v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",b=u+p[v],E=u-p[g];u=gt(b,u,E)}const m=l.fn({...t,[h]:f,[d]:u});return{...m,data:{x:m.x-o,y:m.y-i,enabled:{[h]:n,[d]:s}}}}}},pe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,i;const{placement:r,rects:n,platform:s,elements:l}=t,{apply:a=()=>{},...c}=et(e,t),p=await xt(t,c),d=K(r),h=ot(r),f=X(r)==="y",{width:u,height:m}=n.floating;let v,g;d==="top"||d==="bottom"?(v=d,g=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(g=d,v=h==="end"?"top":"bottom");const b=m-p.top-p.bottom,E=u-p.left-p.right,T=G(m-p[v],b),O=G(u-p[g],E),R=!t.middlewareData.shift;let P=T,H=O;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(H=E),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(P=b),R&&!h){const D=L(p.left,0),V=L(p.right,0),N=L(p.top,0),W=L(p.bottom,0);f?H=u-2*(D!==0||V!==0?D+V:L(p.left,p.right)):P=m-2*(N!==0||W!==0?N+W:L(p.top,p.bottom))}await a({...t,availableWidth:H,availableHeight:P});const I=await s.getDimensions(l.floating);return u!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function dt(){return typeof window<"u"}function it(e){return Nt(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function M(e){var t;return(t=(Nt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Nt(e){return dt()?e instanceof Node||e instanceof k(e).Node:!1}function S(e){return dt()?e instanceof Element||e instanceof k(e).Element:!1}function $(e){return dt()?e instanceof HTMLElement||e instanceof k(e).HTMLElement:!1}function Pt(e){return!dt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof k(e).ShadowRoot}function nt(e){const{overflow:t,overflowX:o,overflowY:i,display:r}=B(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+o)&&!["inline","contents"].includes(r)}function de(e){return["table","td","th"].includes(it(e))}function ft(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Et(e){const t=At(),o=S(e)?B(e):e;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(o.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(o.contain||"").includes(i))}function fe(e){let t=q(e);for(;$(t)&&!tt(t);){if(Et(t))return t;if(ft(t))return null;t=q(t)}return null}function At(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tt(e){return["html","body","#document"].includes(it(e))}function B(e){return k(e).getComputedStyle(e)}function ut(e){return S(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function q(e){if(it(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pt(e)&&e.host||M(e);return Pt(t)?t.host:t}function _t(e){const t=q(e);return tt(t)?e.ownerDocument?e.ownerDocument.body:e.body:$(t)&&nt(t)?t:_t(t)}function rt(e,t,o){var i;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=_t(e),n=r===((i=e.ownerDocument)==null?void 0:i.body),s=k(r);if(n){const l=bt(s);return t.concat(s,s.visualViewport||[],nt(r)?r:[],l&&o?rt(l):[])}return t.concat(r,rt(r,[],o))}function bt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ft(e){const t=B(e);let o=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=$(e),n=r?e.offsetWidth:o,s=r?e.offsetHeight:i,l=at(o)!==n||at(i)!==s;return l&&(o=n,i=s),{width:o,height:i,$:l}}function Ot(e){return S(e)?e:e.contextElement}function Q(e){const t=Ot(e);if(!$(t))return F(1);const o=t.getBoundingClientRect(),{width:i,height:r,$:n}=Ft(t);let s=(n?at(o.width):o.width)/i,l=(n?at(o.height):o.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const ue=F(0);function $t(e){const t=k(e);return!At()||!t.visualViewport?ue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function he(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==k(e)?!1:t}function Z(e,t,o,i){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),n=Ot(e);let s=F(1);t&&(i?S(i)&&(s=Q(i)):s=Q(e));const l=he(n,o,i)?$t(n):F(0);let a=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,p=r.width/s.x,d=r.height/s.y;if(n){const h=k(n),f=i&&S(i)?k(i):i;let u=h,m=bt(u);for(;m&&i&&f!==u;){const v=Q(m),g=m.getBoundingClientRect(),b=B(m),E=g.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,T=g.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;a*=v.x,c*=v.y,p*=v.x,d*=v.y,a+=E,c+=T,u=k(m),m=bt(u)}}return pt({width:p,height:d,x:a,y:c})}function Tt(e,t){const o=ut(e).scrollLeft;return t?t.left+o:Z(M(e)).left+o}function Mt(e,t,o){o===void 0&&(o=!1);const i=e.getBoundingClientRect(),r=i.left+t.scrollLeft-(o?0:Tt(e,i)),n=i.top+t.scrollTop;return{x:r,y:n}}function me(e){let{elements:t,rect:o,offsetParent:i,strategy:r}=e;const n=r==="fixed",s=M(i),l=t?ft(t.floating):!1;if(i===s||l&&n)return o;let a={scrollLeft:0,scrollTop:0},c=F(1);const p=F(0),d=$(i);if((d||!d&&!n)&&((it(i)!=="body"||nt(s))&&(a=ut(i)),$(i))){const f=Z(i);c=Q(i),p.x=f.x+i.clientLeft,p.y=f.y+i.clientTop}const h=s&&!d&&!n?Mt(s,a,!0):F(0);return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-a.scrollLeft*c.x+p.x+h.x,y:o.y*c.y-a.scrollTop*c.y+p.y+h.y}}function ge(e){return Array.from(e.getClientRects())}function ve(e){const t=M(e),o=ut(e),i=e.ownerDocument.body,r=L(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),n=L(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let s=-o.scrollLeft+Tt(e);const l=-o.scrollTop;return B(i).direction==="rtl"&&(s+=L(t.clientWidth,i.clientWidth)-r),{width:r,height:n,x:s,y:l}}function be(e,t){const o=k(e),i=M(e),r=o.visualViewport;let n=i.clientWidth,s=i.clientHeight,l=0,a=0;if(r){n=r.width,s=r.height;const c=At();(!c||c&&t==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:n,height:s,x:l,y:a}}function ye(e,t){const o=Z(e,!0,t==="fixed"),i=o.top+e.clientTop,r=o.left+e.clientLeft,n=$(e)?Q(e):F(1),s=e.clientWidth*n.x,l=e.clientHeight*n.y,a=r*n.x,c=i*n.y;return{width:s,height:l,x:a,y:c}}function Dt(e,t,o){let i;if(t==="viewport")i=be(e,o);else if(t==="document")i=ve(M(e));else if(S(t))i=ye(t,o);else{const r=$t(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return pt(i)}function Ht(e,t){const o=q(e);return o===t||!S(o)||tt(o)?!1:B(o).position==="fixed"||Ht(o,t)}function we(e,t){const o=t.get(e);if(o)return o;let i=rt(e,[],!1).filter(l=>S(l)&&it(l)!=="body"),r=null;const n=B(e).position==="fixed";let s=n?q(e):e;for(;S(s)&&!tt(s);){const l=B(s),a=Et(s);!a&&l.position==="fixed"&&(r=null),(n?!a&&!r:!a&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||nt(s)&&!a&&Ht(e,s))?i=i.filter(p=>p!==s):r=l,s=q(s)}return t.set(e,i),i}function xe(e){let{element:t,boundary:o,rootBoundary:i,strategy:r}=e;const s=[...o==="clippingAncestors"?ft(t)?[]:we(t,this._c):[].concat(o),i],l=s[0],a=s.reduce((c,p)=>{const d=Dt(t,p,r);return c.top=L(d.top,c.top),c.right=G(d.right,c.right),c.bottom=G(d.bottom,c.bottom),c.left=L(d.left,c.left),c},Dt(t,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Ee(e){const{width:t,height:o}=Ft(e);return{width:t,height:o}}function Ae(e,t,o){const i=$(t),r=M(t),n=o==="fixed",s=Z(e,!0,n,t);let l={scrollLeft:0,scrollTop:0};const a=F(0);if(i||!i&&!n)if((it(t)!=="body"||nt(r))&&(l=ut(t)),i){const h=Z(t,!0,n,t);a.x=h.x+t.clientLeft,a.y=h.y+t.clientTop}else r&&(a.x=Tt(r));const c=r&&!i&&!n?Mt(r,l):F(0),p=s.left+l.scrollLeft-a.x-c.x,d=s.top+l.scrollTop-a.y-c.y;return{x:p,y:d,width:s.width,height:s.height}}function mt(e){return B(e).position==="static"}function St(e,t){if(!$(e)||B(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return M(e)===o&&(o=o.ownerDocument.body),o}function zt(e,t){const o=k(e);if(ft(e))return o;if(!$(e)){let r=q(e);for(;r&&!tt(r);){if(S(r)&&!mt(r))return r;r=q(r)}return o}let i=St(e,t);for(;i&&de(i)&&mt(i);)i=St(i,t);return i&&tt(i)&&mt(i)&&!Et(i)?o:i||fe(e)||o}const Oe=async function(e){const t=this.getOffsetParent||zt,o=this.getDimensions,i=await o(e.floating);return{reference:Ae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Te(e){return B(e).direction==="rtl"}const Ce={convertOffsetParentRelativeRectToViewportRelativeRect:me,getDocumentElement:M,getClippingRect:xe,getOffsetParent:zt,getElementRects:Oe,getClientRects:ge,getDimensions:Ee,getScale:Q,isElement:S,isRTL:Te};function Le(e,t){let o=null,i;const r=M(e);function n(){var l;clearTimeout(i),(l=o)==null||l.disconnect(),o=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),n();const{left:c,top:p,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const f=st(p),u=st(r.clientWidth-(c+d)),m=st(r.clientHeight-(p+h)),v=st(c),b={rootMargin:-f+"px "+-u+"px "+-m+"px "+-v+"px",threshold:L(0,G(1,a))||1};let E=!0;function T(O){const R=O[0].intersectionRatio;if(R!==a){if(!E)return s();R?s(!1,R):i=setTimeout(()=>{s(!1,1e-7)},1e3)}E=!1}try{o=new IntersectionObserver(T,{...b,root:r.ownerDocument})}catch{o=new IntersectionObserver(T,b)}o.observe(e)}return s(!0),n}function ke(e,t,o,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:n=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,c=Ot(e),p=r||n?[...c?rt(c):[],...rt(t)]:[];p.forEach(g=>{r&&g.addEventListener("scroll",o,{passive:!0}),n&&g.addEventListener("resize",o)});const d=c&&l?Le(c,o):null;let h=-1,f=null;s&&(f=new ResizeObserver(g=>{let[b]=g;b&&b.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(t)})),o()}),c&&!a&&f.observe(c),f.observe(t));let u,m=a?Z(e):null;a&&v();function v(){const g=Z(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&o(),m=g,u=requestAnimationFrame(v)}return o(),()=>{var g;p.forEach(b=>{r&&b.removeEventListener("scroll",o),n&&b.removeEventListener("resize",o)}),d==null||d(),(g=f)==null||g.disconnect(),f=null,a&&cancelAnimationFrame(u)}}const Re=ae,Pe=ce,De=se,Se=pe,Be=ne,Ie=(e,t,o)=>{const i=new Map,r={platform:Ce,...o},n={...r.platform,_c:i};return re(e,t,{...r,platform:n})},Ge=qt.constructTagName("popover"),Vt={LEFT_START:"left-start",LEFT:"left",LEFT_END:"left-end",RIGHT_START:"right-start",RIGHT:"right",RIGHT_END:"right-end",TOP_START:"top-start",TOP:"top",TOP_END:"top-end",BOTTOM_START:"bottom-start",BOTTOM:"bottom",BOTTOM_END:"bottom-end"},Wt={CLICK:"click",MOUSEENTER:"mouseenter",FOCUSIN:"focusin",MANUAL:"manual"},Ut={TONAL:"tonal",CONTRAST:"contrast"},A={PLACEMENT:Vt.BOTTOM,TRIGGER:Wt.CLICK,COLOR:Ut.TONAL,OFFSET:4,VISIBLE:!1,ARROW:!1,CLOSE_BUTTON:!1,FOCUS_TRAP:!1,INTERACTIVE:!1,PREVENT_SCROLL:!1,HIDE_ON_ESCAPE:!1,HIDE_ON_BLUR:!1,HIDE_ON_CLICK_OUTSIDE:!1,FOCUS_BACK:!1,BACKDROP:!1,FLIP:!0,SIZE:!1,DELAY:"0,0",ROLE:"dialog",Z_INDEX:1e3,DISABLE_ARIA_EXPANDED:!1};class lt{static dispatchPopoverEvent(t,o){o.dispatchEvent(new CustomEvent(t,{detail:{show:o.visible},composed:!0,bubbles:!0}))}static onShowPopover(t){this.dispatchPopoverEvent("shown",t)}static onHidePopover(t){this.dispatchPopoverEvent("hidden",t)}static onCreatedPopover(t){this.dispatchPopoverEvent("created",t)}static onDestroyedPopover(t){this.dispatchPopoverEvent("destroyed",t)}}class Ne{constructor(){this.stack=[]}push(t){this.stack.push(t)}pop(){return this.stack.pop()}peek(){return this.stack[this.stack.length-1]}remove(t){this.stack=this.stack.filter(o=>o!==t)}clear(){this.stack=[]}}const Y=new Ne,_e=Kt`
  :host {
    --mdc-popover-arrow-border-radius: 0.1875rem;
    --mdc-popover-arrow-border: 0.0625rem solid var(--mds-color-theme-outline-secondary-normal);

    --mdc-popover-primary-background-color: var(--mds-color-theme-background-solid-primary-normal);
    --mdc-popover-border-color: var(--mds-color-theme-outline-secondary-normal);
    --mdc-popover-inverted-background-color: var(--mds-color-theme-inverted-background-normal);
    --mdc-popover-inverted-border-color: var(--mds-color-theme-inverted-outline-primary-normal);
    --mdc-popover-inverted-text-color: var(--mds-color-theme-inverted-text-primary-normal);
    --mdc-popover-elevation-3: var(--mds-elevation-3);
    --mdc-popover-max-width: max-content;
    --mdc-popover-max-height: auto;

    display: none;
    position: absolute;
    top: 0;
    left: 0;

    box-sizing: content-box;
    background-color: var(--mdc-popover-primary-background-color);
    border-radius: 0.5rem;
    border: 0.0625rem solid var(--mdc-popover-border-color);
    filter: var(--mdc-popover-elevation-3);
    width: var(--mdc-popover-max-width);
  }

  :host([visible]) {
    display: block;
  }

  :host([color='contrast']) {
    background-color: var(--mdc-popover-inverted-background-color);
    border-color: var(--mdc-popover-inverted-border-color);
    color: var(--mdc-popover-inverted-text-color);
  }

  :host([color='contrast']) {

    .popover-arrow {
      background-color: var(--mdc-popover-inverted-background-color);
      border-color: var(--mdc-popover-inverted-border-color);
    }

    .popover-close {
      color: var(--mdc-popover-inverted-text-color);
    }
  }

  :host::part(popover-content) {
    position: relative;
    padding: 0.75rem;
    min-width: max-content;
    z-index: 9998;
    max-height: var(--mdc-popover-max-height);
  }

  .popover-hover-bridge {
    position: absolute;
    transform: translateX(-50%);
    background: transparent;
    pointer-events: auto;
  }

  .popover-arrow {
    position: absolute;
    width: 1rem;
    height: 1rem;
    background-color: var(--mdc-popover-primary-background-color);
    transform: rotate(45deg);
    pointer-events: none;
    border: var(--mdc-popover-arrow-border);
  }

  .popover-close {
    box-sizing: border-box;
    position: absolute;
    right: 0.75rem;
    top: 0.75rem;
    cursor: pointer;
    z-index: 9999;
  }

  :host(:dir(rtl)) .popover-close {
    right: auto;
    left: 0.75rem;
  }

  .popover-arrow[data-side='top'] {
    border-top: none;
    border-left: none;
    border-bottom-right-radius: var(--mdc-popover-arrow-border-radius);
    border-top-left-radius: 100%;
  }

  .popover-arrow[data-side='bottom'] {
    border-bottom: none;
    border-right: none;
    border-top-left-radius: var(--mdc-popover-arrow-border-radius);
    border-bottom-right-radius: 100%;
  }

  .popover-arrow[data-side='right'] {
    border-top: none;
    border-right: none;
    border-bottom-left-radius: var(--mdc-popover-arrow-border-radius);
    border-top-right-radius: 100%;
  }

  .popover-arrow[data-side='left'] {
    border-bottom: none;
    border-left: none;
    border-top-right-radius: var(--mdc-popover-arrow-border-radius);
    border-bottom-left-radius: 100%;
  }
`,Fe=[_e];class $e{constructor(t){this.arrowPixelChange=!1,this.popover=t}setupDelay(){try{const[t,o]=this.popover.delay.split(",").map(i=>{const r=parseInt(i,10);if(Number.isNaN(r)||r<0)throw new Error(`Invalid delay value: ${i}`);return r});return[t,o]}catch{return this.popover.delay="0,0",[0,0]}}setupHoverBridge(t){const o=this.popover.renderRoot.querySelector(".popover-hover-bridge");Object.assign(o.style,{top:"",left:"",right:"",bottom:""});const i=`calc(${this.popover.showArrow?"0.75rem + ":""}${this.popover.offset}px)`,r=this.popover.offsetHeight||0,n=this.popover.offsetWidth||0;if(o)switch(t.split("-")[0]){case"top":o.style.height=i,o.style.bottom=`calc(-1 * (${i}))`,o.style.left="50%",o.style.width=`${n}px`;break;case"left":o.style.height=`${r}px`,o.style.width=i,o.style.right=`calc(-1.5 * (${i}))`;break;case"right":o.style.height=`${r}px`,o.style.width=i,o.style.left=`calc(-0.5 * (${i}))`;break;case"bottom":default:o.style.height=i,o.style.top=`calc(-1 * (${i}))`,o.style.left="50%",o.style.width=`${n}px`;break}}setupAppendTo(){if(this.popover.appendTo){const t=document.getElementById(this.popover.appendTo);t&&t.appendChild(this.popover)}}setupAccessibility(){var t,o,i;(this.popover.role==="dialog"||this.popover.role==="alertdialog")&&this.popover.toggleAttribute("aria-modal",this.popover.interactive),this.popover.interactive?(this.popover.setAttribute("aria-modal","true"),this.popover.ariaLabel||(this.popover.ariaLabel=((t=this.popover.triggerElement)==null?void 0:t.ariaLabel)||((o=this.popover.triggerElement)==null?void 0:o.textContent)||""),this.popover.ariaLabelledby||(this.popover.ariaLabelledby=((i=this.popover.triggerElement)==null?void 0:i.id)||"")):this.popover.removeAttribute("aria-modal")}updateAriaHasPopupAttribute(){var t,o,i;this.popover.interactive?(o=this.popover.triggerElement)==null||o.setAttribute("aria-haspopup",((t=this.popover.triggerElement)==null?void 0:t.getAttribute("aria-haspopup"))||"dialog"):(i=this.popover.triggerElement)==null||i.removeAttribute("aria-haspopup")}updateAriaExpandedAttribute(){var t,o;this.popover.disableAriaExpanded?(t=this.popover.triggerElement)==null||t.removeAttribute("aria-expanded"):(o=this.popover.triggerElement)==null||o.setAttribute("aria-expanded",`${this.popover.visible}`)}updateArrowStyle(t,o){var p;if(!this.popover.arrowElement)return;const i=o.split("-")[0],r={top:"bottom",right:"left",bottom:"top",left:"right"}[i],{x:n,y:s}=t,l=this.popover.arrowElement.getBoundingClientRect(),a=(p=this.popover.arrowElement.offsetParent)==null?void 0:p.getBoundingClientRect();if(!this.arrowPixelChange){const d=a!=null&&a[r]?12-Math.abs(l[r]-a[r]):0;Math.round(d)===1?this.arrowPixelChange=!0:this.arrowPixelChange=!1}const c=this.arrowPixelChange?.5:0;this.popover.arrowElement.setAttribute("data-side",i),Object.assign(this.popover.arrowElement.style,{left:n!=null?`${n}px`:"",top:s!=null?`${s}px`:"",[r]:`${-this.popover.arrowElement.offsetHeight/2-c}px`})}updatePopoverStyle(t,o){Object.assign(this.popover.style,{left:`${t}px`,top:`${o}px`})}createBackdrop(){var t;if(!this.popover.backdropElement){const o=document.createElement("div");o.classList.add("popover-backdrop"),(t=this.popover.parentElement)==null||t.appendChild(o);const i=document.createElement("style");i.textContent=`
        .popover-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: transparent;
          z-index: ${this.popover.zIndex-1};
        }
      `,o.appendChild(i),this.popover.backdropElement=o}}}var Me=Object.defineProperty,x=(e,t,o,i)=>{for(var r=void 0,n=e.length-1,s;n>=0;n--)(s=e[n])&&(r=s(t,o,r)||r);return r&&Me(t,o,r),r};const Ct=class Ct extends Xt(kt){constructor(){super(),this.id="",this.triggerID="",this.trigger=A.TRIGGER,this.placement=A.PLACEMENT,this.color=A.COLOR,this.visible=A.VISIBLE,this.offset=A.OFFSET,this.focusTrap=A.FOCUS_TRAP,this.preventScroll=A.PREVENT_SCROLL,this.showArrow=A.ARROW,this.closeButton=A.CLOSE_BUTTON,this.interactive=A.INTERACTIVE,this.delay=A.DELAY,this.hideOnEscape=A.HIDE_ON_ESCAPE,this.hideOnBlur=A.HIDE_ON_BLUR,this.hideOnOutsideClick=A.HIDE_ON_CLICK_OUTSIDE,this.focusBackToTrigger=A.FOCUS_BACK,this.backdrop=A.BACKDROP,this.flip=A.FLIP,this.size=A.SIZE,this.zIndex=A.Z_INDEX,this.appendTo="",this.closeButtonAriaLabel=null,this.role=A.ROLE,this.ariaLabelledby=null,this.ariaDescribedby=null,this.disableAriaExpanded=A.DISABLE_ARIA_EXPANDED,this.arrowElement=null,this.triggerElement=null,this.hoverTimer=null,this.isTriggerClicked=!1,this.openDelay=0,this.closeDelay=0,this.backdropElement=null,this.onOutsidePopoverClick=t=>{if(Y.peek()!==this)return;let o=!1;const i=t.composedPath();o=this.contains(t.target)||i.includes(this.triggerElement);const r=this.backdropElement?i.includes(this.backdropElement):!1;(!o||r)&&this.hidePopover()},this.onEscapeKeydown=t=>{!this.visible||t.code!=="Escape"||(t.preventDefault(),this.hidePopover())},this.onPopoverFocusOut=t=>{this.contains(t.relatedTarget)||this.hidePopover()},this.startCloseDelay=()=>{if(!this.interactive)this.hidePopover();else{if(this.isTriggerClicked)return;this.hoverTimer=window.setTimeout(()=>{this.visible=!1},this.closeDelay)}},this.cancelCloseDelay=()=>{this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=null)},this.showPopover=()=>{this.cancelCloseDelay(),setTimeout(()=>{this.visible=!0},this.openDelay)},this.hidePopover=()=>{Y.peek()===this&&setTimeout(()=>{this.visible=!1,this.isTriggerClicked=!1},this.closeDelay)},this.togglePopoverVisible=()=>{this.isTriggerClicked?this.hidePopover():(this.showPopover(),this.isTriggerClicked=!0)},this.utils=new $e(this)}async firstUpdated(t){super.firstUpdated(t),this.utils.setupAppendTo(),[this.openDelay,this.closeDelay]=this.utils.setupDelay(),this.setupTriggerListener(),this.utils.setupAccessibility(),this.style.zIndex=`${this.zIndex}`,lt.onCreatedPopover(this),this.visible&&(this.positionPopover(),await this.handleCreatePopoverFirstUpdate())}async disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners(),lt.onDestroyedPopover(this),Y.remove(this)}setupTriggerListener(){if(this.triggerID&&(this.triggerElement=this.getRootNode().querySelector(`[id="${this.triggerID}"]`),!!this.triggerElement)){if(this.trigger==="mouseenter"&&(this.interactive?this.trigger="mouseenter click":this.trigger="mouseenter focusin"),this.trigger.includes("click")&&this.triggerElement.addEventListener("click",this.togglePopoverVisible),this.trigger.includes("mouseenter")){const t=this.renderRoot.querySelector(".popover-hover-bridge");this.triggerElement.addEventListener("mouseenter",this.showPopover),this.triggerElement.addEventListener("mouseleave",this.startCloseDelay),this.addEventListener("mouseenter",this.cancelCloseDelay),this.addEventListener("mouseleave",this.startCloseDelay),t==null||t.addEventListener("mouseenter",this.cancelCloseDelay)}this.trigger.includes("focusin")&&(this.triggerElement.addEventListener("focusin",this.showPopover),this.interactive||this.triggerElement.addEventListener("focusout",this.hidePopover)),this.addEventListener("focus-trap-exit",this.hidePopover)}}removeEventListeners(){if(!this.triggerElement)return;const t=this.renderRoot.querySelector(".popover-hover-bridge");this.triggerElement.removeEventListener("click",this.togglePopoverVisible),this.triggerElement.removeEventListener("mouseenter",this.showPopover),this.triggerElement.removeEventListener("mouseleave",this.hidePopover),this.removeEventListener("mouseenter",this.cancelCloseDelay),this.removeEventListener("mouseleave",this.startCloseDelay),this.triggerElement.removeEventListener("focusin",this.showPopover),this.triggerElement.removeEventListener("focusout",this.hidePopover),t==null||t.removeEventListener("mouseenter",this.cancelCloseDelay),this.removeEventListener("focus-trap-exit",this.hidePopover)}async updated(t){if(super.updated(t),t.has("visible")){const o=t.get("visible")||!1;await this.isOpenUpdated(o,this.visible),this.utils.updateAriaExpandedAttribute()}if(t.has("placement")&&this.setAttribute("placement",Object.values(Vt).includes(this.placement)?this.placement:A.PLACEMENT),t.has("delay")&&([this.openDelay,this.closeDelay]=this.utils.setupDelay()),t.has("trigger")){const i=this.trigger.split(" ").filter(r=>Object.values(Wt).includes(r));this.setAttribute("trigger",i.length>0?this.trigger:A.TRIGGER),this.removeEventListeners(),this.setupTriggerListener()}t.has("color")&&this.setAttribute("color",Object.values(Ut).includes(this.color)?this.color:A.COLOR),t.has("zIndex")&&this.setAttribute("z-index",`${this.zIndex}`),t.has("append-to")&&this.utils.setupAppendTo(),(t.has("interactive")||t.has("aria-label")||t.has("aria-labelledby"))&&this.utils.setupAccessibility(),t.has("disableAriaExpanded")&&this.utils.updateAriaExpandedAttribute(),t.has("interactive")&&this.utils.updateAriaHasPopupAttribute()}async isOpenUpdated(t,o){var i,r,n;t===o||!this.triggerElement||(o?(Y.peek()!==this&&Y.push(this),this.enabledFocusTrap=this.focusTrap,this.enabledPreventScroll=this.preventScroll,this.backdrop&&(this.utils.createBackdrop(),this.triggerElement.style.zIndex=`${this.zIndex}`),this.positionPopover(),await this.handleCreatePopoverFirstUpdate(),this.hideOnBlur&&(this.addEventListener("focusout",this.onPopoverFocusOut),this.trigger==="click"&&(this.triggerElement.style.pointerEvents="none")),this.hideOnOutsideClick&&document.addEventListener("click",this.onOutsidePopoverClick),this.hideOnEscape&&document.addEventListener("keydown",this.onEscapeKeydown),lt.onShowPopover(this)):(Y.peek()===this&&Y.pop(),this.backdropElement&&((i=this.backdropElement)==null||i.remove(),this.backdropElement=null),this.hideOnBlur&&(this.removeEventListener("focusout",this.onPopoverFocusOut),this.trigger==="click"&&(this.triggerElement.style.pointerEvents="")),this.hideOnOutsideClick&&document.removeEventListener("click",this.onOutsidePopoverClick),this.hideOnEscape&&document.removeEventListener("keydown",this.onEscapeKeydown),(r=this.deactivateFocusTrap)==null||r.call(this),this.disableAriaExpanded||this.triggerElement.removeAttribute("aria-expanded"),this.interactive||this.triggerElement.removeAttribute("aria-haspopup"),this.focusBackToTrigger&&((n=this.triggerElement)==null||n.focus()),lt.onHidePopover(this)))}async handleCreatePopoverFirstUpdate(){var t,o;this.visible&&this.interactive&&((t=this.setFocusableElements)==null||t.call(this),await this.updateComplete,(o=this.setInitialFocus)==null||o.call(this))}positionPopover(){if(!this.triggerElement)return;const t=[Pe()];let o=this.offset;if(this.flip&&t.push(De()),this.size){const i=this.renderRoot.querySelector('[part="popover-content"]');t.push(Se({apply({availableHeight:r}){i&&Object.assign(i.style,{maxHeight:`${r}px`,overflowY:"auto"})},padding:50}))}if(this.showArrow&&(this.arrowElement=this.renderRoot.querySelector(".popover-arrow"),this.arrowElement)){const i=this.arrowElement.offsetHeight;o=Math.sqrt(2*i**2)/2+this.offset,t.push(Be({element:this.arrowElement,padding:12}))}t.push(Re(o)),ke(this.triggerElement,this,async()=>{if(!this.triggerElement)return;const{x:i,y:r,middlewareData:n,placement:s}=await Ie(this.triggerElement,this,{placement:this.placement,middleware:t});this.utils.updatePopoverStyle(i,r),n.arrow&&this.arrowElement&&this.utils.updateArrowStyle(n.arrow,s),this.trigger.includes("mouseenter")&&this.utils.setupHoverBridge(s)})}render(){return ht`
      <div class="popover-hover-bridge"></div>
      ${this.closeButton?ht` <mdc-button
            class="popover-close"
            prefix-icon="cancel-bold"
            variant="tertiary"
            size="20"
            aria-label=${Yt(this.closeButtonAriaLabel)||""}
            @click="${this.hidePopover}"
          ></mdc-button>`:Lt}
      ${this.showArrow?ht`<div class="popover-arrow"></div>`:Lt}
      <div part="popover-content">
        <slot></slot>
      </div>
    `}};Ct.styles=[...kt.styles,...Fe];let y=Ct;x([w({type:String,reflect:!0})],y.prototype,"id");x([w({type:String,reflect:!0})],y.prototype,"triggerID");x([w({type:String,reflect:!0})],y.prototype,"trigger");x([w({type:String,reflect:!0})],y.prototype,"placement");x([w({type:String,reflect:!0})],y.prototype,"color");x([w({type:Boolean,reflect:!0})],y.prototype,"visible");x([w({type:Number,reflect:!0})],y.prototype,"offset");x([w({type:Boolean,reflect:!0,attribute:"focus-trap"})],y.prototype,"focusTrap");x([w({type:Boolean,reflect:!0,attribute:"prevent-scroll"})],y.prototype,"preventScroll");x([w({type:Boolean,reflect:!0,attribute:"show-arrow"})],y.prototype,"showArrow");x([w({type:Boolean,reflect:!0,attribute:"close-button"})],y.prototype,"closeButton");x([w({type:Boolean,reflect:!0})],y.prototype,"interactive");x([w({type:String,reflect:!0})],y.prototype,"delay");x([w({type:Boolean,reflect:!0,attribute:"hide-on-escape"})],y.prototype,"hideOnEscape");x([w({type:Boolean,reflect:!0,attribute:"hide-on-blur"})],y.prototype,"hideOnBlur");x([w({type:Boolean,reflect:!0,attribute:"hide-on-outside-click"})],y.prototype,"hideOnOutsideClick");x([w({type:Boolean,reflect:!0,attribute:"focus-back-to-trigger"})],y.prototype,"focusBackToTrigger");x([w({type:Boolean,reflect:!0})],y.prototype,"backdrop");x([w({type:Boolean,reflect:!0})],y.prototype,"flip");x([w({type:Boolean,reflect:!0})],y.prototype,"size");x([w({type:Number,reflect:!0,attribute:"z-index"})],y.prototype,"zIndex");x([w({type:String,reflect:!0,attribute:"append-to"})],y.prototype,"appendTo");x([w({type:String,attribute:"close-button-aria-label",reflect:!0})],y.prototype,"closeButtonAriaLabel");x([w({type:String,reflect:!0})],y.prototype,"role");x([w({type:String,reflect:!0,attribute:"aria-labelledby"})],y.prototype,"ariaLabelledby");x([w({type:String,reflect:!0,attribute:"aria-describedby"})],y.prototype,"ariaDescribedby");x([w({type:Boolean,reflect:!0,attribute:"disable-aria-expanded"})],y.prototype,"disableAriaExpanded");export{Ut as C,A as D,y as P,Ge as T,Vt as a,Wt as b,je as n};
