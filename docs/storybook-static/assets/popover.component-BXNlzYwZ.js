import{e as Jt}from"./base-DIkkzJ-c.js";import{i as Qt,k as gt,D as kt}from"./lit-element-D5KKan5q.js";import{n as v}from"./property-Bj3TGwkg.js";import{t as te}from"./if-defined-D5BV9-c0.js";import{u as ee,C as Rt}from"./provider.component-DrWB4byV.js";import{R as Pt}from"./roles-CJI3JVG-.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function mo(o){return(t,i)=>{const{slot:e}={},s="slot"+(e?`[name=${e}]`:":not([name])");return Jt(t,i,{get(){var n;const r=(n=this.renderRoot)==null?void 0:n.querySelector(s);return(r==null?void 0:r.assignedNodes(o))??[]}})}}const Y=Math.min,S=Math.max,ct=Math.round,at=Math.floor,H=o=>({x:o,y:o}),oe={left:"right",right:"left",bottom:"top",top:"bottom"},ie={start:"end",end:"start"};function yt(o,t,i){return S(o,Y(t,i))}function it(o,t){return typeof o=="function"?o(t):o}function j(o){return o.split("-")[0]}function st(o){return o.split("-")[1]}function Ht(o){return o==="x"?"y":"x"}function xt(o){return o==="y"?"height":"width"}const se=new Set(["top","bottom"]);function K(o){return se.has(j(o))?"y":"x"}function At(o){return Ht(K(o))}function re(o,t,i){i===void 0&&(i=!1);const e=st(o),s=At(o),r=xt(s);let n=s==="x"?e===(i?"end":"start")?"right":"left":e==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(n=dt(n)),[n,dt(n)]}function ne(o){const t=dt(o);return[Et(o),t,Et(t)]}function Et(o){return o.replace(/start|end/g,t=>ie[t])}const Dt=["left","right"],It=["right","left"],le=["top","bottom"],ae=["bottom","top"];function ce(o,t,i){switch(o){case"top":case"bottom":return i?t?It:Dt:t?Dt:It;case"left":case"right":return t?le:ae;default:return[]}}function de(o,t,i,e){const s=st(o);let r=ce(j(o),i==="start",e);return s&&(r=r.map(n=>n+"-"+s),t&&(r=r.concat(r.map(Et)))),r}function dt(o){return o.replace(/left|right|bottom|top/g,t=>oe[t])}function pe(o){return{top:0,right:0,bottom:0,left:0,...o}}function Mt(o){return typeof o!="number"?pe(o):{top:o,right:o,bottom:o,left:o}}function pt(o){const{x:t,y:i,width:e,height:s}=o;return{width:e,height:s,top:i,left:t,right:t+e,bottom:i+s,x:t,y:i}}function Bt(o,t,i){let{reference:e,floating:s}=o;const r=K(t),n=At(t),l=xt(n),a=j(t),c=r==="y",d=e.x+e.width/2-s.width/2,u=e.y+e.height/2-s.height/2,f=e[l]/2-s[l]/2;let p;switch(a){case"top":p={x:d,y:e.y-s.height};break;case"bottom":p={x:d,y:e.y+e.height};break;case"right":p={x:e.x+e.width,y:u};break;case"left":p={x:e.x-s.width,y:u};break;default:p={x:e.x,y:e.y}}switch(st(t)){case"start":p[n]-=f*(i&&c?-1:1);break;case"end":p[n]+=f*(i&&c?-1:1);break}return p}const ue=async(o,t,i)=>{const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:n}=i,l=r.filter(Boolean),a=await(n.isRTL==null?void 0:n.isRTL(t));let c=await n.getElementRects({reference:o,floating:t,strategy:s}),{x:d,y:u}=Bt(c,e,a),f=e,p={},h=0;for(let m=0;m<l.length;m++){const{name:E,fn:b}=l[m],{x,y:A,data:O,reset:T}=await b({x:d,y:u,initialPlacement:e,placement:f,strategy:s,middlewareData:p,rects:c,platform:n,elements:{reference:o,floating:t}});d=x??d,u=A??u,p={...p,[E]:{...p[E],...O}},T&&h<=50&&(h++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await n.getElementRects({reference:o,floating:t,strategy:s}):T.rects),{x:d,y:u}=Bt(c,f,a)),m=-1)}return{x:d,y:u,placement:f,strategy:s,middlewareData:p}};async function Tt(o,t){var i;t===void 0&&(t={});const{x:e,y:s,platform:r,rects:n,elements:l,strategy:a}=o,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=it(t,o),h=Mt(p),E=l[f?u==="floating"?"reference":"floating":u],b=pt(await r.getClippingRect({element:(i=await(r.isElement==null?void 0:r.isElement(E)))==null||i?E:E.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:a})),x=u==="floating"?{x:e,y:s,width:n.floating.width,height:n.floating.height}:n.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),O=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},T=pt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:A,strategy:a}):x);return{top:(b.top-T.top+h.top)/O.y,bottom:(T.bottom-b.bottom+h.bottom)/O.y,left:(b.left-T.left+h.left)/O.x,right:(T.right-b.right+h.right)/O.x}}const he=o=>({name:"arrow",options:o,async fn(t){const{x:i,y:e,placement:s,rects:r,platform:n,elements:l,middlewareData:a}=t,{element:c,padding:d=0}=it(o,t)||{};if(c==null)return{};const u=Mt(d),f={x:i,y:e},p=At(s),h=xt(p),m=await n.getDimensions(c),E=p==="y",b=E?"top":"left",x=E?"bottom":"right",A=E?"clientHeight":"clientWidth",O=r.reference[h]+r.reference[p]-f[p]-r.floating[h],T=f[p]-r.reference[p],P=await(n.getOffsetParent==null?void 0:n.getOffsetParent(c));let L=P?P[A]:0;(!L||!await(n.isElement==null?void 0:n.isElement(P)))&&(L=l.floating[A]||r.floating[h]);const z=O/2-T/2,F=L/2-m[h]/2-1,R=Y(u[b],F),U=Y(u[x],F),_=R,W=L-m[h]-U,C=L/2-m[h]/2+z,X=yt(_,C,W),V=!a.arrow&&st(s)!=null&&C!==X&&r.reference[h]/2-(C<_?R:U)-m[h]/2<0,D=V?C<_?C-_:C-W:0;return{[p]:f[p]+D,data:{[p]:X,centerOffset:C-X-D,...V&&{alignmentOffset:D}},reset:V}}}),fe=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(t){var i,e;const{placement:s,middlewareData:r,rects:n,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...E}=it(o,t);if((i=r.arrow)!=null&&i.alignmentOffset)return{};const b=j(s),x=K(l),A=j(l)===l,O=await(a.isRTL==null?void 0:a.isRTL(c.floating)),T=f||(A||!m?[dt(l)]:ne(l)),P=h!=="none";!f&&P&&T.push(...de(l,m,h,O));const L=[l,...T],z=await Tt(t,E),F=[];let R=((e=r.flip)==null?void 0:e.overflows)||[];if(d&&F.push(z[b]),u){const C=re(s,n,O);F.push(z[C[0]],z[C[1]])}if(R=[...R,{placement:s,overflows:F}],!F.every(C=>C<=0)){var U,_;const C=(((U=r.flip)==null?void 0:U.index)||0)+1,X=L[C];if(X&&(!(u==="alignment"?x!==K(X):!1)||R.every(I=>I.overflows[0]>0&&K(I.placement)===x)))return{data:{index:C,overflows:R},reset:{placement:X}};let V=(_=R.filter(D=>D.overflows[0]<=0).sort((D,I)=>D.overflows[1]-I.overflows[1])[0])==null?void 0:_.placement;if(!V)switch(p){case"bestFit":{var W;const D=(W=R.filter(I=>{if(P){const G=K(I.placement);return G===x||G==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(G=>G>0).reduce((G,Zt)=>G+Zt,0)]).sort((I,G)=>I[1]-G[1])[0])==null?void 0:W[0];D&&(V=D);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}},me=new Set(["left","top"]);async function ve(o,t){const{placement:i,platform:e,elements:s}=o,r=await(e.isRTL==null?void 0:e.isRTL(s.floating)),n=j(i),l=st(i),a=K(i)==="y",c=me.has(n)?-1:1,d=r&&a?-1:1,u=it(t,o);let{mainAxis:f,crossAxis:p,alignmentAxis:h}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof h=="number"&&(p=l==="end"?h*-1:h),a?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const ge=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(t){var i,e;const{x:s,y:r,placement:n,middlewareData:l}=t,a=await ve(t,o);return n===((i=l.offset)==null?void 0:i.placement)&&(e=l.arrow)!=null&&e.alignmentOffset?{}:{x:s+a.x,y:r+a.y,data:{...a,placement:n}}}}},be=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(t){const{x:i,y:e,placement:s}=t,{mainAxis:r=!0,crossAxis:n=!1,limiter:l={fn:E=>{let{x:b,y:x}=E;return{x:b,y:x}}},...a}=it(o,t),c={x:i,y:e},d=await Tt(t,a),u=K(j(s)),f=Ht(u);let p=c[f],h=c[u];if(r){const E=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=p+d[E],A=p-d[b];p=yt(x,p,A)}if(n){const E=u==="y"?"top":"left",b=u==="y"?"bottom":"right",x=h+d[E],A=h-d[b];h=yt(x,h,A)}const m=l.fn({...t,[f]:p,[u]:h});return{...m,data:{x:m.x-i,y:m.y-e,enabled:{[f]:r,[u]:n}}}}}},ye=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(t){var i,e;const{placement:s,rects:r,platform:n,elements:l}=t,{apply:a=()=>{},...c}=it(o,t),d=await Tt(t,c),u=j(s),f=st(s),p=K(s)==="y",{width:h,height:m}=r.floating;let E,b;u==="top"||u==="bottom"?(E=u,b=f===(await(n.isRTL==null?void 0:n.isRTL(l.floating))?"start":"end")?"left":"right"):(b=u,E=f==="end"?"top":"bottom");const x=m-d.top-d.bottom,A=h-d.left-d.right,O=Y(m-d[E],x),T=Y(h-d[b],A),P=!t.middlewareData.shift;let L=O,z=T;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(z=A),(e=t.middlewareData.shift)!=null&&e.enabled.y&&(L=x),P&&!f){const R=S(d.left,0),U=S(d.right,0),_=S(d.top,0),W=S(d.bottom,0);p?z=h-2*(R!==0||U!==0?R+U:S(d.left,d.right)):L=m-2*(_!==0||W!==0?_+W:S(d.top,d.bottom))}await a({...t,availableWidth:z,availableHeight:L});const F=await n.getDimensions(l.floating);return h!==F.width||m!==F.height?{reset:{rects:!0}}:{}}}};function ft(){return typeof window<"u"}function rt(o){return $t(o)?(o.nodeName||"").toLowerCase():"#document"}function k(o){var t;return(o==null||(t=o.ownerDocument)==null?void 0:t.defaultView)||window}function $(o){var t;return(t=($t(o)?o.ownerDocument:o.document)||window.document)==null?void 0:t.documentElement}function $t(o){return ft()?o instanceof Node||o instanceof k(o).Node:!1}function B(o){return ft()?o instanceof Element||o instanceof k(o).Element:!1}function M(o){return ft()?o instanceof HTMLElement||o instanceof k(o).HTMLElement:!1}function Nt(o){return!ft()||typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof k(o).ShadowRoot}const Ee=new Set(["inline","contents"]);function lt(o){const{overflow:t,overflowX:i,overflowY:e,display:s}=N(o);return/auto|scroll|overlay|hidden|clip/.test(t+e+i)&&!Ee.has(s)}const we=new Set(["table","td","th"]);function xe(o){return we.has(rt(o))}const Ae=[":popover-open",":modal"];function mt(o){return Ae.some(t=>{try{return o.matches(t)}catch{return!1}})}const Te=["transform","translate","scale","rotate","perspective"],Oe=["transform","translate","scale","rotate","perspective","filter"],Le=["paint","layout","strict","content"];function Ot(o){const t=Lt(),i=B(o)?N(o):o;return Te.some(e=>i[e]?i[e]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||Oe.some(e=>(i.willChange||"").includes(e))||Le.some(e=>(i.contain||"").includes(e))}function Ce(o){let t=q(o);for(;M(t)&&!ot(t);){if(Ot(t))return t;if(mt(t))return null;t=q(t)}return null}function Lt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Se=new Set(["html","body","#document"]);function ot(o){return Se.has(rt(o))}function N(o){return k(o).getComputedStyle(o)}function vt(o){return B(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function q(o){if(rt(o)==="html")return o;const t=o.assignedSlot||o.parentNode||Nt(o)&&o.host||$(o);return Nt(t)?t.host:t}function zt(o){const t=q(o);return ot(t)?o.ownerDocument?o.ownerDocument.body:o.body:M(t)&&lt(t)?t:zt(t)}function nt(o,t,i){var e;t===void 0&&(t=[]),i===void 0&&(i=!0);const s=zt(o),r=s===((e=o.ownerDocument)==null?void 0:e.body),n=k(s);if(r){const l=wt(n);return t.concat(n,n.visualViewport||[],lt(s)?s:[],l&&i?nt(l):[])}return t.concat(s,nt(s,[],i))}function wt(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}function Vt(o){const t=N(o);let i=parseFloat(t.width)||0,e=parseFloat(t.height)||0;const s=M(o),r=s?o.offsetWidth:i,n=s?o.offsetHeight:e,l=ct(i)!==r||ct(e)!==n;return l&&(i=r,e=n),{width:i,height:e,$:l}}function Ct(o){return B(o)?o:o.contextElement}function et(o){const t=Ct(o);if(!M(t))return H(1);const i=t.getBoundingClientRect(),{width:e,height:s,$:r}=Vt(t);let n=(r?ct(i.width):i.width)/e,l=(r?ct(i.height):i.height)/s;return(!n||!Number.isFinite(n))&&(n=1),(!l||!Number.isFinite(l))&&(l=1),{x:n,y:l}}const ke=H(0);function Kt(o){const t=k(o);return!Lt()||!t.visualViewport?ke:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Re(o,t,i){return t===void 0&&(t=!1),!i||t&&i!==k(o)?!1:t}function J(o,t,i,e){t===void 0&&(t=!1),i===void 0&&(i=!1);const s=o.getBoundingClientRect(),r=Ct(o);let n=H(1);t&&(e?B(e)&&(n=et(e)):n=et(o));const l=Re(r,i,e)?Kt(r):H(0);let a=(s.left+l.x)/n.x,c=(s.top+l.y)/n.y,d=s.width/n.x,u=s.height/n.y;if(r){const f=k(r),p=e&&B(e)?k(e):e;let h=f,m=wt(h);for(;m&&e&&p!==h;){const E=et(m),b=m.getBoundingClientRect(),x=N(m),A=b.left+(m.clientLeft+parseFloat(x.paddingLeft))*E.x,O=b.top+(m.clientTop+parseFloat(x.paddingTop))*E.y;a*=E.x,c*=E.y,d*=E.x,u*=E.y,a+=A,c+=O,h=k(m),m=wt(h)}}return pt({width:d,height:u,x:a,y:c})}function St(o,t){const i=vt(o).scrollLeft;return t?t.left+i:J($(o)).left+i}function Ut(o,t,i){i===void 0&&(i=!1);const e=o.getBoundingClientRect(),s=e.left+t.scrollLeft-(i?0:St(o,e)),r=e.top+t.scrollTop;return{x:s,y:r}}function Pe(o){let{elements:t,rect:i,offsetParent:e,strategy:s}=o;const r=s==="fixed",n=$(e),l=t?mt(t.floating):!1;if(e===n||l&&r)return i;let a={scrollLeft:0,scrollTop:0},c=H(1);const d=H(0),u=M(e);if((u||!u&&!r)&&((rt(e)!=="body"||lt(n))&&(a=vt(e)),M(e))){const p=J(e);c=et(e),d.x=p.x+e.clientLeft,d.y=p.y+e.clientTop}const f=n&&!u&&!r?Ut(n,a,!0):H(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-a.scrollLeft*c.x+d.x+f.x,y:i.y*c.y-a.scrollTop*c.y+d.y+f.y}}function De(o){return Array.from(o.getClientRects())}function Ie(o){const t=$(o),i=vt(o),e=o.ownerDocument.body,s=S(t.scrollWidth,t.clientWidth,e.scrollWidth,e.clientWidth),r=S(t.scrollHeight,t.clientHeight,e.scrollHeight,e.clientHeight);let n=-i.scrollLeft+St(o);const l=-i.scrollTop;return N(e).direction==="rtl"&&(n+=S(t.clientWidth,e.clientWidth)-s),{width:s,height:r,x:n,y:l}}function Be(o,t){const i=k(o),e=$(o),s=i.visualViewport;let r=e.clientWidth,n=e.clientHeight,l=0,a=0;if(s){r=s.width,n=s.height;const c=Lt();(!c||c&&t==="fixed")&&(l=s.offsetLeft,a=s.offsetTop)}return{width:r,height:n,x:l,y:a}}const Ne=new Set(["absolute","fixed"]);function Fe(o,t){const i=J(o,!0,t==="fixed"),e=i.top+o.clientTop,s=i.left+o.clientLeft,r=M(o)?et(o):H(1),n=o.clientWidth*r.x,l=o.clientHeight*r.y,a=s*r.x,c=e*r.y;return{width:n,height:l,x:a,y:c}}function Ft(o,t,i){let e;if(t==="viewport")e=Be(o,i);else if(t==="document")e=Ie($(o));else if(B(t))e=Fe(t,i);else{const s=Kt(o);e={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pt(e)}function Wt(o,t){const i=q(o);return i===t||!B(i)||ot(i)?!1:N(i).position==="fixed"||Wt(i,t)}function _e(o,t){const i=t.get(o);if(i)return i;let e=nt(o,[],!1).filter(l=>B(l)&&rt(l)!=="body"),s=null;const r=N(o).position==="fixed";let n=r?q(o):o;for(;B(n)&&!ot(n);){const l=N(n),a=Ot(n);!a&&l.position==="fixed"&&(s=null),(r?!a&&!s:!a&&l.position==="static"&&!!s&&Ne.has(s.position)||lt(n)&&!a&&Wt(o,n))?e=e.filter(d=>d!==n):s=l,n=q(n)}return t.set(o,e),e}function He(o){let{element:t,boundary:i,rootBoundary:e,strategy:s}=o;const n=[...i==="clippingAncestors"?mt(t)?[]:_e(t,this._c):[].concat(i),e],l=n[0],a=n.reduce((c,d)=>{const u=Ft(t,d,s);return c.top=S(u.top,c.top),c.right=Y(u.right,c.right),c.bottom=Y(u.bottom,c.bottom),c.left=S(u.left,c.left),c},Ft(t,l,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Me(o){const{width:t,height:i}=Vt(o);return{width:t,height:i}}function $e(o,t,i){const e=M(t),s=$(t),r=i==="fixed",n=J(o,!0,r,t);let l={scrollLeft:0,scrollTop:0};const a=H(0);function c(){a.x=St(s)}if(e||!e&&!r)if((rt(t)!=="body"||lt(s))&&(l=vt(t)),e){const p=J(t,!0,r,t);a.x=p.x+t.clientLeft,a.y=p.y+t.clientTop}else s&&c();r&&!e&&s&&c();const d=s&&!e&&!r?Ut(s,l):H(0),u=n.left+l.scrollLeft-a.x-d.x,f=n.top+l.scrollTop-a.y-d.y;return{x:u,y:f,width:n.width,height:n.height}}function bt(o){return N(o).position==="static"}function _t(o,t){if(!M(o)||N(o).position==="fixed")return null;if(t)return t(o);let i=o.offsetParent;return $(o)===i&&(i=i.ownerDocument.body),i}function Gt(o,t){const i=k(o);if(mt(o))return i;if(!M(o)){let s=q(o);for(;s&&!ot(s);){if(B(s)&&!bt(s))return s;s=q(s)}return i}let e=_t(o,t);for(;e&&xe(e)&&bt(e);)e=_t(e,t);return e&&ot(e)&&bt(e)&&!Ot(e)?i:e||Ce(o)||i}const ze=async function(o){const t=this.getOffsetParent||Gt,i=this.getDimensions,e=await i(o.floating);return{reference:$e(o.reference,await t(o.floating),o.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function Ve(o){return N(o).direction==="rtl"}const Ke={convertOffsetParentRelativeRectToViewportRelativeRect:Pe,getDocumentElement:$,getClippingRect:He,getOffsetParent:Gt,getElementRects:ze,getClientRects:De,getDimensions:Me,getScale:et,isElement:B,isRTL:Ve};function Yt(o,t){return o.x===t.x&&o.y===t.y&&o.width===t.width&&o.height===t.height}function Ue(o,t){let i=null,e;const s=$(o);function r(){var l;clearTimeout(e),(l=i)==null||l.disconnect(),i=null}function n(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),r();const c=o.getBoundingClientRect(),{left:d,top:u,width:f,height:p}=c;if(l||t(),!f||!p)return;const h=at(u),m=at(s.clientWidth-(d+f)),E=at(s.clientHeight-(u+p)),b=at(d),A={rootMargin:-h+"px "+-m+"px "+-E+"px "+-b+"px",threshold:S(0,Y(1,a))||1};let O=!0;function T(P){const L=P[0].intersectionRatio;if(L!==a){if(!O)return n();L?n(!1,L):e=setTimeout(()=>{n(!1,1e-7)},1e3)}L===1&&!Yt(c,o.getBoundingClientRect())&&n(),O=!1}try{i=new IntersectionObserver(T,{...A,root:s.ownerDocument})}catch{i=new IntersectionObserver(T,A)}i.observe(o)}return n(!0),r}function We(o,t,i,e){e===void 0&&(e={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:n=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=e,c=Ct(o),d=s||r?[...c?nt(c):[],...nt(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",i,{passive:!0}),r&&b.addEventListener("resize",i)});const u=c&&l?Ue(c,i):null;let f=-1,p=null;n&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(t)})),i()}),c&&!a&&p.observe(c),p.observe(t));let h,m=a?J(o):null;a&&E();function E(){const b=J(o);m&&!Yt(m,b)&&i(),m=b,h=requestAnimationFrame(E)}return i(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",i),r&&x.removeEventListener("resize",i)}),u==null||u(),(b=p)==null||b.disconnect(),p=null,a&&cancelAnimationFrame(h)}}const Ge=ge,Ye=be,je=fe,qe=ye,Xe=he,Ze=(o,t,i)=>{const e=new Map,s={platform:Ke,...i},r={...s.platform,_c:e};return ue(o,t,{...s,platform:r})},Je=o=>{class t extends o{constructor(){super(...arguments),this.isBackdropInvisible=!1,this.backdropElement=null}createBackdrop(e){const s=document.createElement("div");s.classList.add(`${e}-backdrop`);const r=document.createElement("style");r.textContent=`
        .${e}-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: ${this.isBackdropInvisible?"transparent":"var(--mds-color-theme-common-overlays-secondary-normal)"};
          z-index: ${this.zIndex-1};
        }
      `,s.appendChild(r);const l=document.getElementById(this.backdropAppendTo)||this.parentElement;l==null||l.appendChild(s),this.backdropElement=s}removeBackdrop(){this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}keepElementAboveBackdrop(e){e&&(this.elementOriginalStyle={zIndex:e.style.zIndex,position:e.style.position},e.style.zIndex=`${this.zIndex}`,["fixed","absolute"].includes(window.getComputedStyle(e).position)||(e.style.position="relative"))}moveElementBackAfterBackdropRemoval(e){!e||!this.elementOriginalStyle||(e.style.zIndex=this.elementOriginalStyle.zIndex,e.style.position=this.elementOriginalStyle.position,this.elementOriginalStyle=void 0)}}return t};var Qe=Object.defineProperty,to=(o,t,i,e)=>{for(var s=void 0,r=o.length-1,n;r>=0;r--)(n=o[r])&&(s=n(t,i,s)||s);return s&&Qe(t,i,s),s};const ht=class ht{static get stackArray(){return Array.from(this.stack)}static addKeydownListener(t){this.currentKeydownListener=t,document.addEventListener("keydown",t)}static removeKeydownListener(){this.currentKeydownListener&&document.removeEventListener("keydown",this.currentKeydownListener)}static activate(t){this.stackArray.forEach(i=>{i!==t&&i.setIsFocusTrapActivated(!1)}),this.stack.add(t),this.removeKeydownListener(),this.addKeydownListener(t.handleTabKeydown.bind(t))}static deactivate(t){if(this.stack.has(t)&&(this.stack.delete(t),this.removeKeydownListener(),this.stack.size>0)){const i=this.stackArray.pop();i&&(i.setIsFocusTrapActivated(!0),this.addKeydownListener(i.handleTabKeydown.bind(i)))}}};ht.stack=new Set,ht.currentKeydownListener=null;let ut=ht;const eo=o=>{class t extends o{constructor(){super(...arguments),this.shouldFocusTrapWrap=!0,this.focusTrapIndex=-1,this.focusableElements=[],this.isFocusTrapActivated=!1}setIsFocusTrapActivated(e){this.isFocusTrapActivated=e}activateFocusTrap(){this.setIsFocusTrapActivated(!0),ut.activate(this)}deactivateFocusTrap(){this.setIsFocusTrapActivated(!1),ut.deactivate(this),this.focusTrapIndex=-1}hasNoClientRects(e){return e.getClientRects().length===0}hasZeroDimensions(e){const{width:s,height:r}=e.getBoundingClientRect(),{offsetWidth:n,offsetHeight:l}=e;return n+l+r+s===0}isNotVisible(e){return this.hasZeroDimensions(e)||this.hasNoClientRects(e)}hasHiddenStyle(e){const{display:s,opacity:r,visibility:n}=e.style;return s==="none"||r==="0"||n==="hidden"||n==="collapse"}hasComputedHidden(e){const s=getComputedStyle(e);return s.visibility==="hidden"||s.height==="0"||s.display==="none"}isHidden(e){return e.hasAttribute("hidden")||e.getAttribute("aria-hidden")==="true"||this.hasHiddenStyle(e)||this.isNotVisible(e)||this.hasComputedHidden(e)}isDisabled(e){return e.disabled}isNotTabbable(e){return e.getAttribute("tabindex")==="-1"}isInteractiveElement(e){return!!(new Set(["BUTTON","DETAILS","EMBED","IFRAME","SELECT","TEXTAREA"]).has(e.tagName)||e instanceof HTMLAnchorElement&&e.hasAttribute("href")||e instanceof HTMLInputElement&&e.type!=="hidden"||(e instanceof HTMLAudioElement||e instanceof HTMLVideoElement)&&e.hasAttribute("controls")||(e instanceof HTMLImageElement||e instanceof HTMLObjectElement)&&e.hasAttribute("usemap")||e.hasAttribute("tabindex")&&e.tabIndex>-1)}isFocusable(e){return this.isHidden(e)||this.isNotTabbable(e)||this.isDisabled(e)?!1:this.isInteractiveElement(e)}findFocusable(e,s=new Set){e instanceof HTMLElement&&this.isFocusable(e)&&s.add(e);let r=[];return e.children.length?r=Array.from(e.children):e instanceof HTMLElement&&e.shadowRoot&&(r=Array.from(e.shadowRoot.children)),r.forEach(n=>{const l=n;this.isFocusable(l)&&s.add(l),l.shadowRoot?this.findFocusable(l.shadowRoot,s):l.tagName==="SLOT"?l.assignedElements({flatten:!0}).forEach(c=>{c instanceof HTMLElement&&this.findFocusable(c,s)}):this.findFocusable(l,s)}),[...s]}setFocusableElements(){this.shadowRoot&&(this.focusableElements=this.findFocusable(this.shadowRoot,new Set))}setInitialFocus(e=0){this.setFocusableElements(),!(this.focusableElements.length===0||!this.focusTrap)&&this.focusableElements[e]&&(this.focusTrapIndex=e,this.focusableElements[e].focus({preventScroll:!0}))}calculateNextIndex(e,s){const{length:r}=this.focusableElements;if(e===-1)return s>0?0:r-1;let n=e+s;return this.shouldFocusTrapWrap?(n<0&&(n=r-1),n>=r&&(n=0)):(n<0&&(n=0),n>=r&&(n=r-1)),n}getDeepActiveElement(){var s;let e=document.activeElement||document.body;for(;e instanceof HTMLElement&&((s=e.shadowRoot)!=null&&s.activeElement);)e=e.shadowRoot.activeElement;return e||document.body}findElement(e){return this.focusableElements.findIndex(s=>this.isEqualFocusNode(e,s))}isEqualFocusNode(e,s){return e.nodeType>=0?s.isEqualNode(e)&&s===e:!1}trapFocus(e){if(this.setFocusableElements(),this.focusableElements.length===0)return;const s=this.getDeepActiveElement(),r=this.findElement(s);e.shiftKey?this.focusTrapIndex=this.calculateNextIndex(r,-1):this.focusTrapIndex=this.calculateNextIndex(r,1);const l=this.focusableElements[this.focusTrapIndex];l.tagName!=="IFRAME"&&l&&(e.preventDefault(),l.focus())}handleTabKeydown(e){this.isFocusTrapActivated&&e.key==="Tab"&&this.trapFocus(e)}}return to([v({type:Boolean,reflect:!0,attribute:"should-focus-trap-wrap"})],t.prototype,"shouldFocusTrapWrap"),t},oo=o=>{class t extends o{constructor(){super(...arguments),this.isPreventScrollActive=!1,this.previousDocumentBodyStyleOverflow=""}activatePreventScroll(){this.preventScroll&&!this.isPreventScrollActive&&(this.isPreventScrollActive=!0,this.previousDocumentBodyStyleOverflow=document.body.style.overflow,document.body.style.overflow="hidden")}deactivatePreventScroll(){this.isPreventScrollActive&&(this.isPreventScrollActive=!1,document.body.style.overflow=this.previousDocumentBodyStyleOverflow)}}return t},vo=ee.constructTagName("popover"),jt={LEFT_START:"left-start",LEFT:"left",LEFT_END:"left-end",RIGHT_START:"right-start",RIGHT:"right",RIGHT_END:"right-end",TOP_START:"top-start",TOP:"top",TOP_END:"top-end",BOTTOM_START:"bottom-start",BOTTOM:"bottom",BOTTOM_END:"bottom-end"},qt={CLICK:"click",MOUSEENTER:"mouseenter",FOCUSIN:"focusin",MANUAL:"manual"},Xt={TONAL:"tonal",CONTRAST:"contrast"},w={PLACEMENT:jt.BOTTOM,TRIGGER:qt.CLICK,COLOR:Xt.TONAL,OFFSET:4,BOUNDARY:"clippingAncestors",BOUNDARY_ROOT:"viewport",BOUNDARY_PADDING:0,VISIBLE:!1,ARROW:!1,CLOSE_BUTTON:!1,FOCUS_TRAP:!1,INTERACTIVE:!1,PREVENT_SCROLL:!1,HIDE_ON_ESCAPE:!1,HIDE_ON_BLUR:!1,HIDE_ON_CLICK_OUTSIDE:!1,FOCUS_BACK:!1,BACKDROP:!1,FLIP:!0,SIZE:!1,DELAY:"0,0",ROLE:"dialog",Z_INDEX:1e3,DISABLE_ARIA_EXPANDED:!1,DISABLE_ARIA_HAS_POPUP:!1,PROPAGATE_EVENT_ON_ESCAPE:!1,KEEP_CONNECTED_TOOLTIP_CLOSED:!0,STRATEGY:"absolute",IS_BACKDROP_INVISIBLE:!1};class Q{static dispatchPopoverEvent(t,i){i.dispatchEvent(new CustomEvent(t,{detail:{show:i.visible},composed:!0,bubbles:!0}))}static onShowPopover(t){this.dispatchPopoverEvent("shown",t)}static onHidePopover(t){this.dispatchPopoverEvent("hidden",t)}static onCreatedPopover(t){this.dispatchPopoverEvent("created",t)}static onDestroyedPopover(t){this.dispatchPopoverEvent("destroyed",t)}static onEscapeKeyPressed(t){this.dispatchPopoverEvent("closebyescape",t)}static onClickOutside(t){this.dispatchPopoverEvent("closebyoutsideclick",t)}}class io{constructor(){this.stack=[]}push(t){this.stack.push(t)}pop(){return this.stack.pop()}peek(){return this.stack[this.stack.length-1]}remove(t){this.stack=this.stack.filter(i=>i!==t)}has(t){return this.stack.includes(t)}clear(){this.stack=[]}}const tt=new io,so=Qt`
  :host {
    --mdc-popover-arrow-border-radius: 0.1875rem;
    --mdc-popover-arrow-border: 0.0625rem solid var(--mds-color-theme-outline-secondary-normal);

    --mdc-popover-primary-background-color: var(--mds-color-theme-background-solid-primary-normal);
    --mdc-popover-border-color: var(--mds-color-theme-outline-secondary-normal);
    --mdc-popover-inverted-background-color: var(--mds-color-theme-inverted-background-normal);
    --mdc-popover-inverted-border-color: var(--mds-color-theme-inverted-outline-primary-normal);
    --mdc-popover-inverted-text-color: var(--mds-color-theme-inverted-text-primary-normal);
    --mdc-popover-elevation-3: var(--mds-elevation-3);
    --mdc-popover-max-width: max-content;
    --mdc-popover-max-height: auto;

    display: none;
    position: absolute;
    top: 0;
    left: 0;

    box-sizing: content-box;
    background-color: var(--mdc-popover-primary-background-color);
    border-radius: 0.5rem;
    border: 0.0625rem solid var(--mdc-popover-border-color);
    filter: var(--mdc-popover-elevation-3);
    width: var(--mdc-popover-max-width);
  }

  :host([strategy='absolute']) {
    position: absolute;
  }

  :host([strategy='fixed']) {
    position: fixed;
  }

  :host([visible]) {
    display: block;
  }

  :host([color='contrast']) {
    background-color: var(--mdc-popover-inverted-background-color);
    border-color: var(--mdc-popover-inverted-border-color);
    color: var(--mdc-popover-inverted-text-color);
  }

  :host([color='contrast']) .popover-arrow {
    background-color: var(--mdc-popover-inverted-background-color);
    border-color: var(--mdc-popover-inverted-border-color);
  }

  :host([color='contrast']) .popover-close {
    color: var(--mdc-popover-inverted-text-color);
  }

  :host::part(popover-content) {
    position: relative;
    cursor: default;
    padding: 0.75rem;
    min-width: max-content;
    z-index: 9998;
    max-height: var(--mdc-popover-max-height);
  }

  .popover-hover-bridge {
    position: absolute;
    transform: translateX(-50%);
    background: transparent;
    pointer-events: auto;
  }

  .popover-arrow {
    position: absolute;
    width: 1rem;
    height: 1rem;
    background-color: var(--mdc-popover-primary-background-color);
    transform: rotate(45deg);
    pointer-events: none;
    border: var(--mdc-popover-arrow-border);
  }

  .popover-close {
    box-sizing: border-box;
    position: absolute;
    right: 0.75rem;
    top: 0.75rem;
    cursor: pointer;
    z-index: 9999;
  }

  :host(:dir(rtl)) .popover-close {
    right: auto;
    left: 0.75rem;
  }

  .popover-arrow[data-side='top'] {
    border-top: none;
    border-left: none;
    border-bottom-right-radius: var(--mdc-popover-arrow-border-radius);
    border-top-left-radius: 100%;
  }

  .popover-arrow[data-side='bottom'] {
    border-bottom: none;
    border-right: none;
    border-top-left-radius: var(--mdc-popover-arrow-border-radius);
    border-bottom-right-radius: 100%;
  }

  .popover-arrow[data-side='right'] {
    border-top: none;
    border-right: none;
    border-bottom-left-radius: var(--mdc-popover-arrow-border-radius);
    border-top-right-radius: 100%;
  }

  .popover-arrow[data-side='left'] {
    border-bottom: none;
    border-left: none;
    border-top-right-radius: var(--mdc-popover-arrow-border-radius);
    border-bottom-left-radius: 100%;
  }
`,ro=[so];class no{constructor(t){this.arrowPixelChange=!1,this.popover=t}setupDelay(){try{const[t,i]=this.popover.delay.split(",").map(e=>{const s=parseInt(e,10);if(Number.isNaN(s)||s<0)throw new Error(`Invalid delay value: ${e}`);return s});return[t,i]}catch{return this.popover.delay="0,0",[0,0]}}setupHoverBridge(t){const i=this.popover.renderRoot.querySelector(".popover-hover-bridge");Object.assign(i.style,{top:"",left:"",right:"",bottom:""});const e=`calc(${this.popover.showArrow?"0.75rem + ":""}${this.popover.offset}px)`,s=this.popover.offsetHeight||0,r=this.popover.offsetWidth||0;if(i)switch(t.split("-")[0]){case"top":i.style.height=e,i.style.bottom=`calc(-1 * (${e}))`,i.style.left="50%",i.style.width=`${r}px`;break;case"left":i.style.height=`${s}px`,i.style.width=e,i.style.right=`calc(-1.5 * (${e}))`;break;case"right":i.style.height=`${s}px`,i.style.width=e,i.style.left=`calc(-0.5 * (${e}))`;break;case"bottom":default:i.style.height=e,i.style.top=`calc(-1 * (${e}))`,i.style.left="50%",i.style.width=`${r}px`;break}}setupAppendTo(){if(this.popover.appendTo){const t=document.getElementById(this.popover.appendTo);t&&t.appendChild(this.popover)}}updateAriaLabels(){var t,i,e;this.popover.interactive&&this.popover.role&&(this.popover.ariaLabel||(this.popover.ariaLabel=((t=this.popover.triggerElement)==null?void 0:t.ariaLabel)||((i=this.popover.triggerElement)==null?void 0:i.textContent)||""),this.popover.ariaLabelledby||(this.popover.ariaLabelledby=((e=this.popover.triggerElement)==null?void 0:e.id)||""))}updateAriaModal(){this.popover.role===Pt.DIALOG||this.popover.role===Pt.ALERTDIALOG?this.popover.setAttribute("aria-modal","true"):this.popover.removeAttribute("aria-modal")}updateAriaHasPopupAttribute(){var t,i,e;this.popover.interactive&&!this.popover.disableAriaHasPopup?(i=this.popover.triggerElement)==null||i.setAttribute("aria-haspopup",((t=this.popover.triggerElement)==null?void 0:t.getAttribute("aria-haspopup"))||"dialog"):(e=this.popover.triggerElement)==null||e.removeAttribute("aria-haspopup")}updateAriaExpandedAttribute(){var t,i;this.popover.disableAriaExpanded?(t=this.popover.triggerElement)==null||t.removeAttribute("aria-expanded"):(i=this.popover.triggerElement)==null||i.setAttribute("aria-expanded",`${this.popover.visible}`)}updateArrowStyle(t,i){var d;if(!this.popover.arrowElement)return;const e=i.split("-")[0],s={top:"bottom",right:"left",bottom:"top",left:"right"}[e],{x:r,y:n}=t,l=this.popover.arrowElement.getBoundingClientRect(),a=(d=this.popover.arrowElement.offsetParent)==null?void 0:d.getBoundingClientRect();if(!this.arrowPixelChange){const u=a!=null&&a[s]?12-Math.abs(l[s]-a[s]):0;Math.round(u)===1?this.arrowPixelChange=!0:this.arrowPixelChange=!1}const c=this.arrowPixelChange?.5:0;this.popover.arrowElement.setAttribute("data-side",e),Object.assign(this.popover.arrowElement.style,{left:r!=null?`${r}px`:"",top:n!=null?`${n}px`:"",[s]:`${-this.popover.arrowElement.offsetHeight/2-c}px`})}updatePopoverStyle(t,i){Object.assign(this.popover.style,{left:`${t}px`,top:`${i}px`})}}var lo=Object.defineProperty,y=(o,t,i,e)=>{for(var s=void 0,r=o.length-1,n;r>=0;r--)(n=o[r])&&(s=n(t,i,s)||s);return s&&lo(t,i,s),s},Z;const g=(Z=class extends Je(oo(eo(Rt))){constructor(){super(),this.id="",this.triggerID="",this.trigger=w.TRIGGER,this.placement=w.PLACEMENT,this.color=w.COLOR,this.visible=w.VISIBLE,this.offset=w.OFFSET,this.boundary=w.BOUNDARY,this.boundaryRoot=w.BOUNDARY_ROOT,this.focusTrap=w.FOCUS_TRAP,this.preventScroll=w.PREVENT_SCROLL,this.showArrow=w.ARROW,this.closeButton=w.CLOSE_BUTTON,this.interactive=w.INTERACTIVE,this.delay=w.DELAY,this.hideOnEscape=w.HIDE_ON_ESCAPE,this.propagateEventOnEscape=w.PROPAGATE_EVENT_ON_ESCAPE,this.hideOnBlur=w.HIDE_ON_BLUR,this.hideOnOutsideClick=w.HIDE_ON_CLICK_OUTSIDE,this.focusBackToTrigger=w.FOCUS_BACK,this.backdrop=w.BACKDROP,this.isBackdropInvisible=w.IS_BACKDROP_INVISIBLE,this.flip=w.FLIP,this.size=w.SIZE,this.zIndex=w.Z_INDEX,this.closeButtonAriaLabel=null,this.strategy=w.STRATEGY,this.role=w.ROLE,this.ariaLabelledby=null,this.ariaDescribedby=null,this.disableAriaExpanded=w.DISABLE_ARIA_EXPANDED,this.disableAriaHasPopup=w.DISABLE_ARIA_HAS_POPUP,this.keepConnectedTooltipClosed=w.KEEP_CONNECTED_TOOLTIP_CLOSED,this.arrowElement=null,this.triggerElement=null,this.hoverTimer=null,this.isHovered=!1,this.openDelay=0,this.closeDelay=0,this.floatingUICleanupFunction=null,this.shouldSupressOpening=!1,this.connectedTooltip=null,this.storeConnectedTooltip=()=>{const t=this.getRootNode().querySelectorAll(`mdc-tooltip[triggerID="${this.triggerID}"]`);for(const i of t)if(i!==this){this.connectedTooltip=i;return}this.connectedTooltip=null},this.cleanupTrigger=()=>{var s;let e=(((s=this.trigger)==null?void 0:s.split(" "))||[]).filter(r=>Object.values(qt).includes(r)).length>0?this.trigger:w.TRIGGER;e==="mouseenter"&&(this.interactive?e="mouseenter click":e="mouseenter focusin"),this.trigger=e},this.setupTriggerListeners=()=>{if(this.triggerElement){if(this.trigger.includes("click")&&this.triggerElement.addEventListener("click",this.togglePopoverVisible),this.trigger.includes("mouseenter")){const t=this.renderRoot.querySelector(".popover-hover-bridge");t==null||t.addEventListener("mouseenter",this.show),this.triggerElement.addEventListener("mouseenter",this.handleMouseEnter),this.triggerElement.addEventListener("mouseleave",this.handleMouseLeave),this.addEventListener("mouseenter",this.cancelCloseDelay),this.addEventListener("mouseleave",this.startCloseDelay)}this.trigger.includes("focusin")&&(this.triggerElement.addEventListener("focusin",this.handleFocusIn),this.interactive||this.triggerElement.addEventListener("focusout",this.handleFocusOut))}},this.removeTriggerListeners=()=>{var i,e,s,r,n;(i=this.triggerElement)==null||i.removeEventListener("click",this.togglePopoverVisible);const t=this.renderRoot.querySelector(".popover-hover-bridge");t==null||t.removeEventListener("mouseenter",this.show),(e=this.triggerElement)==null||e.removeEventListener("mouseenter",this.handleMouseEnter),(s=this.triggerElement)==null||s.removeEventListener("mouseleave",this.handleMouseLeave),this.removeEventListener("mouseenter",this.cancelCloseDelay),this.removeEventListener("mouseleave",this.startCloseDelay),(r=this.triggerElement)==null||r.removeEventListener("focusin",this.handleFocusIn),(n=this.triggerElement)==null||n.removeEventListener("focusout",this.handleFocusOut)},this.removeAllListeners=()=>{var t;this.removeTriggerListeners(),this.hideOnOutsideClick&&document.removeEventListener("click",this.onOutsidePopoverClick),this.hideOnEscape&&(this.removeEventListener("keydown",this.onEscapeKeydown),(t=this.triggerElement)==null||t.removeEventListener("keydown",this.onEscapeKeydown)),this.hideOnBlur&&this.removeEventListener("focusout",this.onPopoverFocusOut)},this.onOutsidePopoverClick=t=>{if(tt.peek()!==this)return;const i=t.composedPath(),e=this.contains(t.target)||i.includes(this.triggerElement)||i.includes(this),s=this.backdropElement?i.includes(this.backdropElement):!1;(!e||s)&&(this.hide(),Q.onClickOutside(this))},this.onEscapeKeydown=t=>{!this.visible||t.code!=="Escape"||(this.propagateEventOnEscape||t.stopPropagation(),t.preventDefault(),this.hide(),Q.onEscapeKeyPressed(this))},this.onPopoverFocusOut=t=>{this.contains(t.relatedTarget)||this.hide()},this.handleMouseEnter=()=>{this.isHovered=!0,this.show()},this.handleMouseLeave=()=>{this.isHovered=!1,this.startCloseDelay()},this.handleFocusOut=()=>{this.isHovered||this.hide()},this.handleFocusIn=()=>{var t;((t=this.triggerElement)!=null&&t.matches(":focus-visible")||this.isHovered)&&this.show()},this.startCloseDelay=()=>{this.interactive?this.hoverTimer=window.setTimeout(()=>{this.visible=!1},this.closeDelay):this.hide()},this.cancelCloseDelay=()=>{this.hoverTimer&&(window.clearTimeout(this.hoverTimer),this.hoverTimer=null)},this.show=()=>{this.visible||this.shouldSupressOpening||(this.cancelCloseDelay(),this.openDelay>0?setTimeout(()=>{this.visible=!0},this.openDelay):this.visible=!0)},this.hide=()=>{this.closeDelay?setTimeout(()=>{this.visible=!1},this.closeDelay):this.visible=!1},this.togglePopoverVisible=()=>{this.visible?this.hide():this.show()},this.positionPopover=()=>{if(!this.triggerElement)return;const t=!this.boundary||this.boundary==="clippingAncestors"?"clippingAncestors":Array.from(document.querySelectorAll(this.boundary)),i=this.boundaryRoot,e=[Ye({boundary:t,rootBoundary:i,padding:this.boundaryPadding})];let s=this.offset;if(this.flip&&e.push(je({boundary:t,rootBoundary:i})),this.size){const r=l=>{this.style.setProperty("--mdc-popover-internal-available-height",`${l}px`)},n=this.renderRoot.querySelector('[part="popover-content"]');e.push(qe({boundary:t,rootBoundary:i,apply({availableHeight:l}){n&&(Object.assign(n.style,{maxHeight:`${l}px`,overflowY:"auto"}),r(l))},padding:50}))}if(this.showArrow&&(this.arrowElement=this.renderRoot.querySelector(".popover-arrow"),this.arrowElement)){const r=this.arrowElement.offsetHeight,n=Math.sqrt(2*r**2)/2;s+=n,e.push(Xe({element:this.arrowElement,padding:12}))}e.push(Ge(s)),this.floatingUICleanupFunction=We(this.triggerElement,this,async()=>{if(!this.triggerElement)return;const{x:r,y:n,middlewareData:l,placement:a}=await Ze(this.triggerElement,this,{placement:this.placement,middleware:e,strategy:this.strategy});this.utils.updatePopoverStyle(r,n),l.arrow&&this.arrowElement&&this.utils.updateArrowStyle(l.arrow,a),this.trigger.includes("mouseenter")&&this.interactive&&this.utils.setupHoverBridge(a)})},this.findClosestPopover=t=>{let i=t;for(;i&&!(i instanceof Z);)i=i.parentElement;return i},this.utils=new no(this)}setupTriggerRelatedElement(){this.triggerElement=this.getRootNode().querySelector(`[id="${this.triggerID}"]`),this.storeConnectedTooltip()}async firstUpdated(t){super.firstUpdated(t),this.utils.setupAppendTo(),[this.openDelay,this.closeDelay]=this.utils.setupDelay(),this.setupTriggerRelatedElement(),this.cleanupTrigger(),this.setupTriggerListeners(),this.style.zIndex=`${this.zIndex}`,Q.onCreatedPopover(this)}async disconnectedCallback(){var t,i;super.disconnectedCallback(),this.removeAllListeners(),(t=this.deactivateFocusTrap)==null||t.call(this),this.deactivatePreventScroll(),this.moveElementBackAfterBackdropRemoval(this.triggerElement),this.removeBackdrop(),(i=this.floatingUICleanupFunction)==null||i.call(this),this.cancelCloseDelay(),this.keepConnectedTooltipClosed&&this.connectedTooltip&&(this.connectedTooltip.shouldSupressOpening=!1),Q.onDestroyedPopover(this),tt.remove(this)}async updated(t){if(super.updated(t),t.has("visible")){const i=t.get("visible")||!1;await this.isOpenUpdated(i,this.visible),this.utils.updateAriaExpandedAttribute()}t.has("trigger")&&(this.cleanupTrigger(),this.removeTriggerListeners(),this.setupTriggerListeners()),t.has("placement")&&this.setAttribute("placement",Object.values(jt).includes(this.placement)?this.placement:w.PLACEMENT),t.has("delay")&&([this.openDelay,this.closeDelay]=this.utils.setupDelay()),t.has("color")&&this.setAttribute("color",Object.values(Xt).includes(this.color)?this.color:w.COLOR),t.has("zIndex")&&this.setAttribute("z-index",`${this.zIndex}`),t.has("append-to")&&this.utils.setupAppendTo(),(t.has("interactive")||t.has("aria-label")||t.has("aria-labelledby"))&&this.utils.updateAriaLabels(),t.has("role")&&(this.role===""&&(this.role=null),this.utils.updateAriaModal()),t.has("disableAriaExpanded")&&this.utils.updateAriaExpandedAttribute(),(t.has("interactive")||t.has("disableAriaHasPopup"))&&this.utils.updateAriaHasPopupAttribute(),t.has("focusTrap")&&!this.focusTrap&&this.visible&&this.deactivateFocusTrap(),t.has("preventScroll")&&(!this.preventScroll&&this.visible?this.deactivatePreventScroll():this.preventScroll&&this.visible&&this.activatePreventScroll())}async isOpenUpdated(t,i){var e,s,r,n,l;t===i||!this.triggerElement||(i&&!this.shouldSupressOpening?(tt.peek()!==this&&tt.push(this),this.keepConnectedTooltipClosed&&this.connectedTooltip&&(this.connectedTooltip.visible=!1,this.connectedTooltip.shouldSupressOpening=!0),this.backdrop&&!this.backdropElement&&(this.createBackdrop("popover"),this.keepElementAboveBackdrop(this.triggerElement)),this.positionPopover(),this.hideOnBlur&&(this.addEventListener("focusout",this.onPopoverFocusOut),this.trigger==="click"&&(this.triggerElement.style.pointerEvents="none")),this.hideOnEscape&&(this.addEventListener("keydown",this.onEscapeKeydown),(e=this.triggerElement)==null||e.addEventListener("keydown",this.onEscapeKeydown)),this.activatePreventScroll(),this.hideOnOutsideClick&&document.addEventListener("click",this.onOutsidePopoverClick),setTimeout(()=>{var a,c;this.interactive&&this.focusTrap&&((a=this.activateFocusTrap)==null||a.call(this),(c=this.setInitialFocus)==null||c.call(this))},0),Q.onShowPopover(this)):(tt.peek()===this&&tt.pop(),(s=this.floatingUICleanupFunction)==null||s.call(this),this.backdrop&&(this.moveElementBackAfterBackdropRemoval(this.triggerElement),this.removeBackdrop()),this.hideOnBlur&&(this.removeEventListener("focusout",this.onPopoverFocusOut),this.trigger==="click"&&(this.triggerElement.style.pointerEvents="")),this.hideOnOutsideClick&&document.removeEventListener("click",this.onOutsidePopoverClick),this.hideOnEscape&&(this.removeEventListener("keydown",this.onEscapeKeydown),(r=this.triggerElement)==null||r.removeEventListener("keydown",this.onEscapeKeydown)),this.disableAriaExpanded&&this.triggerElement.removeAttribute("aria-expanded"),this.interactive||this.triggerElement.removeAttribute("aria-haspopup"),this.deactivatePreventScroll(),(n=this.deactivateFocusTrap)==null||n.call(this),this.focusBackToTrigger&&((l=this.triggerElement)==null||l.focus()),this.keepConnectedTooltipClosed&&this.connectedTooltip&&(this.connectedTooltip.shouldSupressOpening=!1),Q.onHidePopover(this)))}render(){return gt`
      <div class="popover-hover-bridge"></div>
      ${this.closeButton?gt` <mdc-button
            class="popover-close"
            prefix-icon="cancel-bold"
            variant="tertiary"
            size="20"
            aria-label=${te(this.closeButtonAriaLabel)||""}
            @click="${this.hide}"
          ></mdc-button>`:kt}
      ${this.showArrow?gt`<div class="popover-arrow"></div>`:kt}
      <div part="popover-content">
        <slot></slot>
      </div>
    `}},Z.styles=[...Rt.styles,...ro],Z);y([v({type:String,reflect:!0})],g.prototype,"id");y([v({type:String,reflect:!0})],g.prototype,"triggerID");y([v({type:String,reflect:!0})],g.prototype,"trigger");y([v({type:String,reflect:!0})],g.prototype,"placement");y([v({type:String,reflect:!0})],g.prototype,"color");y([v({type:Boolean,reflect:!0})],g.prototype,"visible");y([v({type:Number,reflect:!0})],g.prototype,"offset");y([v({type:String,reflect:!0,attribute:"boundary"})],g.prototype,"boundary");y([v({type:String,reflect:!0,attribute:"boundary-root"})],g.prototype,"boundaryRoot");y([v({type:Number,reflect:!0,attribute:"boundary-padding"})],g.prototype,"boundaryPadding");y([v({type:Boolean,reflect:!0,attribute:"focus-trap"})],g.prototype,"focusTrap");y([v({type:Boolean,reflect:!0,attribute:"prevent-scroll"})],g.prototype,"preventScroll");y([v({type:Boolean,reflect:!0,attribute:"show-arrow"})],g.prototype,"showArrow");y([v({type:Boolean,reflect:!0,attribute:"close-button"})],g.prototype,"closeButton");y([v({type:Boolean,reflect:!0})],g.prototype,"interactive");y([v({type:String,reflect:!0})],g.prototype,"delay");y([v({type:Boolean,reflect:!0,attribute:"hide-on-escape"})],g.prototype,"hideOnEscape");y([v({type:Boolean,reflect:!0,attribute:"propagate-event-on-escape"})],g.prototype,"propagateEventOnEscape");y([v({type:Boolean,reflect:!0,attribute:"hide-on-blur"})],g.prototype,"hideOnBlur");y([v({type:Boolean,reflect:!0,attribute:"hide-on-outside-click"})],g.prototype,"hideOnOutsideClick");y([v({type:Boolean,reflect:!0,attribute:"focus-back-to-trigger"})],g.prototype,"focusBackToTrigger");y([v({type:Boolean,reflect:!0})],g.prototype,"backdrop");y([v({type:String,reflect:!0,attribute:"backdrop-append-to"})],g.prototype,"backdropAppendTo");y([v({type:Boolean,reflect:!0,attribute:"is-backdrop-invisible"})],g.prototype,"isBackdropInvisible");y([v({type:Boolean,reflect:!0})],g.prototype,"flip");y([v({type:Boolean,reflect:!0})],g.prototype,"size");y([v({type:Number,reflect:!0,attribute:"z-index"})],g.prototype,"zIndex");y([v({type:String,reflect:!0,attribute:"append-to"})],g.prototype,"appendTo");y([v({type:String,attribute:"close-button-aria-label",reflect:!0})],g.prototype,"closeButtonAriaLabel");y([v({type:String,reflect:!0,attribute:"strategy"})],g.prototype,"strategy");y([v({type:String,reflect:!0})],g.prototype,"role");y([v({type:String,reflect:!0,attribute:"aria-labelledby"})],g.prototype,"ariaLabelledby");y([v({type:String,reflect:!0,attribute:"aria-describedby"})],g.prototype,"ariaDescribedby");y([v({type:Boolean,reflect:!0,attribute:"disable-aria-expanded"})],g.prototype,"disableAriaExpanded");y([v({type:Boolean,reflect:!0,attribute:"disable-aria-haspopup"})],g.prototype,"disableAriaHasPopup");y([v({type:Boolean,reflect:!0,attribute:"keep-connected-tooltip-closed"})],g.prototype,"keepConnectedTooltipClosed");let go=g;export{Je as B,Xt as C,w as D,eo as F,go as P,vo as T,jt as a,qt as b,oo as c,mo as n,tt as p};
