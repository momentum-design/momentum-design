import{e as Jt}from"./base-DIkkzJ-c.js";import{i as Qt,k as vt,D as kt}from"./lit-element-D5KKan5q.js";import{n as y}from"./property-Bj3TGwkg.js";import{t as te}from"./if-defined-D5BV9-c0.js";import{u as ee,C as Rt}from"./provider.component-DrWB4byV.js";import{R as Dt}from"./roles-CJI3JVG-.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function mo(o){return(t,i)=>{const{slot:e}={},r="slot"+(e?`[name=${e}]`:":not([name])");return Jt(t,i,{get(){var n;const s=(n=this.renderRoot)==null?void 0:n.querySelector(r);return(s==null?void 0:s.assignedNodes(o))??[]}})}}const Y=Math.min,S=Math.max,lt=Math.round,at=Math.floor,M=o=>({x:o,y:o}),oe={left:"right",right:"left",bottom:"top",top:"bottom"},ie={start:"end",end:"start"};function yt(o,t,i){return S(o,Y(t,i))}function ot(o,t){return typeof o=="function"?o(t):o}function j(o){return o.split("-")[0]}function it(o){return o.split("-")[1]}function Mt(o){return o==="x"?"y":"x"}function Et(o){return o==="y"?"height":"width"}const re=new Set(["top","bottom"]);function K(o){return re.has(j(o))?"y":"x"}function xt(o){return Mt(K(o))}function se(o,t,i){i===void 0&&(i=!1);const e=it(o),r=xt(o),s=Et(r);let n=r==="x"?e===(i?"end":"start")?"right":"left":e==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(n=ct(n)),[n,ct(n)]}function ne(o){const t=ct(o);return[bt(o),t,bt(t)]}function bt(o){return o.replace(/start|end/g,t=>ie[t])}const Pt=["left","right"],It=["right","left"],ae=["top","bottom"],le=["bottom","top"];function ce(o,t,i){switch(o){case"top":case"bottom":return i?t?It:Pt:t?Pt:It;case"left":case"right":return t?ae:le;default:return[]}}function de(o,t,i,e){const r=it(o);let s=ce(j(o),i==="start",e);return r&&(s=s.map(n=>n+"-"+r),t&&(s=s.concat(s.map(bt)))),s}function ct(o){return o.replace(/left|right|bottom|top/g,t=>oe[t])}function ue(o){return{top:0,right:0,bottom:0,left:0,...o}}function Ht(o){return typeof o!="number"?ue(o):{top:o,right:o,bottom:o,left:o}}function dt(o){const{x:t,y:i,width:e,height:r}=o;return{width:e,height:r,top:i,left:t,right:t+e,bottom:i+r,x:t,y:i}}function Bt(o,t,i){let{reference:e,floating:r}=o;const s=K(t),n=xt(t),a=Et(n),l=j(t),c=s==="y",d=e.x+e.width/2-r.width/2,p=e.y+e.height/2-r.height/2,f=e[a]/2-r[a]/2;let u;switch(l){case"top":u={x:d,y:e.y-r.height};break;case"bottom":u={x:d,y:e.y+e.height};break;case"right":u={x:e.x+e.width,y:p};break;case"left":u={x:e.x-r.width,y:p};break;default:u={x:e.x,y:e.y}}switch(it(t)){case"start":u[n]-=f*(i&&c?-1:1);break;case"end":u[n]+=f*(i&&c?-1:1);break}return u}const pe=async(o,t,i)=>{const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:n}=i,a=s.filter(Boolean),l=await(n.isRTL==null?void 0:n.isRTL(t));let c=await n.getElementRects({reference:o,floating:t,strategy:r}),{x:d,y:p}=Bt(c,e,l),f=e,u={},h=0;for(let m=0;m<a.length;m++){const{name:w,fn:g}=a[m],{x:E,y:T,data:O,reset:A}=await g({x:d,y:p,initialPlacement:e,placement:f,strategy:r,middlewareData:u,rects:c,platform:n,elements:{reference:o,floating:t}});d=E??d,p=T??p,u={...u,[w]:{...u[w],...O}},A&&h<=50&&(h++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await n.getElementRects({reference:o,floating:t,strategy:r}):A.rects),{x:d,y:p}=Bt(c,f,l)),m=-1)}return{x:d,y:p,placement:f,strategy:r,middlewareData:u}};async function Tt(o,t){var i;t===void 0&&(t={});const{x:e,y:r,platform:s,rects:n,elements:a,strategy:l}=o,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:u=0}=ot(t,o),h=Ht(u),w=a[f?p==="floating"?"reference":"floating":p],g=dt(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(w)))==null||i?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),E=p==="floating"?{x:e,y:r,width:n.floating.width,height:n.floating.height}:n.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),O=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},A=dt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(g.top-A.top+h.top)/O.y,bottom:(A.bottom-g.bottom+h.bottom)/O.y,left:(g.left-A.left+h.left)/O.x,right:(A.right-g.right+h.right)/O.x}}const he=o=>({name:"arrow",options:o,async fn(t){const{x:i,y:e,placement:r,rects:s,platform:n,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=ot(o,t)||{};if(c==null)return{};const p=Ht(d),f={x:i,y:e},u=xt(r),h=Et(u),m=await n.getDimensions(c),w=u==="y",g=w?"top":"left",E=w?"bottom":"right",T=w?"clientHeight":"clientWidth",O=s.reference[h]+s.reference[u]-f[u]-s.floating[h],A=f[u]-s.reference[u],D=await(n.getOffsetParent==null?void 0:n.getOffsetParent(c));let L=D?D[T]:0;(!L||!await(n.isElement==null?void 0:n.isElement(D)))&&(L=a.floating[T]||s.floating[h]);const z=O/2-A/2,N=L/2-m[h]/2-1,R=Y(p[g],N),U=Y(p[E],N),_=R,W=L-m[h]-U,C=L/2-m[h]/2+z,X=yt(_,C,W),V=!l.arrow&&it(r)!=null&&C!==X&&s.reference[h]/2-(C<_?R:U)-m[h]/2<0,P=V?C<_?C-_:C-W:0;return{[u]:f[u]+P,data:{[u]:X,centerOffset:C-X-P,...V&&{alignmentOffset:P}},reset:V}}}),fe=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(t){var i,e;const{placement:r,middlewareData:s,rects:n,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...w}=ot(o,t);if((i=s.arrow)!=null&&i.alignmentOffset)return{};const g=j(r),E=K(a),T=j(a)===a,O=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=f||(T||!m?[ct(a)]:ne(a)),D=h!=="none";!f&&D&&A.push(...de(a,m,h,O));const L=[a,...A],z=await Tt(t,w),N=[];let R=((e=s.flip)==null?void 0:e.overflows)||[];if(d&&N.push(z[g]),p){const C=se(r,n,O);N.push(z[C[0]],z[C[1]])}if(R=[...R,{placement:r,overflows:N}],!N.every(C=>C<=0)){var U,_;const C=(((U=s.flip)==null?void 0:U.index)||0)+1,X=L[C];if(X&&(!(p==="alignment"?E!==K(X):!1)||R.every(I=>I.overflows[0]>0&&K(I.placement)===E)))return{data:{index:C,overflows:R},reset:{placement:X}};let V=(_=R.filter(P=>P.overflows[0]<=0).sort((P,I)=>P.overflows[1]-I.overflows[1])[0])==null?void 0:_.placement;if(!V)switch(u){case"bestFit":{var W;const P=(W=R.filter(I=>{if(D){const G=K(I.placement);return G===E||G==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(G=>G>0).reduce((G,Zt)=>G+Zt,0)]).sort((I,G)=>I[1]-G[1])[0])==null?void 0:W[0];P&&(V=P);break}case"initialPlacement":V=a;break}if(r!==V)return{reset:{placement:V}}}return{}}}},me=new Set(["left","top"]);async function ve(o,t){const{placement:i,platform:e,elements:r}=o,s=await(e.isRTL==null?void 0:e.isRTL(r.floating)),n=j(i),a=it(i),l=K(i)==="y",c=me.has(n)?-1:1,d=s&&l?-1:1,p=ot(t,o);let{mainAxis:f,crossAxis:u,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof h=="number"&&(u=a==="end"?h*-1:h),l?{x:u*d,y:f*c}:{x:f*c,y:u*d}}const ge=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(t){var i,e;const{x:r,y:s,placement:n,middlewareData:a}=t,l=await ve(t,o);return n===((i=a.offset)==null?void 0:i.placement)&&(e=a.arrow)!=null&&e.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:n}}}}},ye=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(t){const{x:i,y:e,placement:r}=t,{mainAxis:s=!0,crossAxis:n=!1,limiter:a={fn:w=>{let{x:g,y:E}=w;return{x:g,y:E}}},...l}=ot(o,t),c={x:i,y:e},d=await Tt(t,l),p=K(j(r)),f=Mt(p);let u=c[f],h=c[p];if(s){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",E=u+d[w],T=u-d[g];u=yt(E,u,T)}if(n){const w=p==="y"?"top":"left",g=p==="y"?"bottom":"right",E=h+d[w],T=h-d[g];h=yt(E,h,T)}const m=a.fn({...t,[f]:u,[p]:h});return{...m,data:{x:m.x-i,y:m.y-e,enabled:{[f]:s,[p]:n}}}}}},be=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(t){var i,e;const{placement:r,rects:s,platform:n,elements:a}=t,{apply:l=()=>{},...c}=ot(o,t),d=await Tt(t,c),p=j(r),f=it(r),u=K(r)==="y",{width:h,height:m}=s.floating;let w,g;p==="top"||p==="bottom"?(w=p,g=f===(await(n.isRTL==null?void 0:n.isRTL(a.floating))?"start":"end")?"left":"right"):(g=p,w=f==="end"?"top":"bottom");const E=m-d.top-d.bottom,T=h-d.left-d.right,O=Y(m-d[w],E),A=Y(h-d[g],T),D=!t.middlewareData.shift;let L=O,z=A;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(z=T),(e=t.middlewareData.shift)!=null&&e.enabled.y&&(L=E),D&&!f){const R=S(d.left,0),U=S(d.right,0),_=S(d.top,0),W=S(d.bottom,0);u?z=h-2*(R!==0||U!==0?R+U:S(d.left,d.right)):L=m-2*(_!==0||W!==0?_+W:S(d.top,d.bottom))}await l({...t,availableWidth:z,availableHeight:L});const N=await n.getDimensions(a.floating);return h!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function ht(){return typeof window<"u"}function rt(o){return $t(o)?(o.nodeName||"").toLowerCase():"#document"}function k(o){var t;return(o==null||(t=o.ownerDocument)==null?void 0:t.defaultView)||window}function $(o){var t;return(t=($t(o)?o.ownerDocument:o.document)||window.document)==null?void 0:t.documentElement}function $t(o){return ht()?o instanceof Node||o instanceof k(o).Node:!1}function B(o){return ht()?o instanceof Element||o instanceof k(o).Element:!1}function H(o){return ht()?o instanceof HTMLElement||o instanceof k(o).HTMLElement:!1}function Ft(o){return!ht()||typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof k(o).ShadowRoot}const we=new Set(["inline","contents"]);function nt(o){const{overflow:t,overflowX:i,overflowY:e,display:r}=F(o);return/auto|scroll|overlay|hidden|clip/.test(t+e+i)&&!we.has(r)}const Ee=new Set(["table","td","th"]);function xe(o){return Ee.has(rt(o))}const Te=[":popover-open",":modal"];function ft(o){return Te.some(t=>{try{return o.matches(t)}catch{return!1}})}const Ae=["transform","translate","scale","rotate","perspective"],Oe=["transform","translate","scale","rotate","perspective","filter"],Le=["paint","layout","strict","content"];function At(o){const t=Ot(),i=B(o)?F(o):o;return Ae.some(e=>i[e]?i[e]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||Oe.some(e=>(i.willChange||"").includes(e))||Le.some(e=>(i.contain||"").includes(e))}function Ce(o){let t=q(o);for(;H(t)&&!et(t);){if(At(t))return t;if(ft(t))return null;t=q(t)}return null}function Ot(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Se=new Set(["html","body","#document"]);function et(o){return Se.has(rt(o))}function F(o){return k(o).getComputedStyle(o)}function mt(o){return B(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function q(o){if(rt(o)==="html")return o;const t=o.assignedSlot||o.parentNode||Ft(o)&&o.host||$(o);return Ft(t)?t.host:t}function zt(o){const t=q(o);return et(t)?o.ownerDocument?o.ownerDocument.body:o.body:H(t)&&nt(t)?t:zt(t)}function st(o,t,i){var e;t===void 0&&(t=[]),i===void 0&&(i=!0);const r=zt(o),s=r===((e=o.ownerDocument)==null?void 0:e.body),n=k(r);if(s){const a=wt(n);return t.concat(n,n.visualViewport||[],nt(r)?r:[],a&&i?st(a):[])}return t.concat(r,st(r,[],i))}function wt(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}function Vt(o){const t=F(o);let i=parseFloat(t.width)||0,e=parseFloat(t.height)||0;const r=H(o),s=r?o.offsetWidth:i,n=r?o.offsetHeight:e,a=lt(i)!==s||lt(e)!==n;return a&&(i=s,e=n),{width:i,height:e,$:a}}function Lt(o){return B(o)?o:o.contextElement}function tt(o){const t=Lt(o);if(!H(t))return M(1);const i=t.getBoundingClientRect(),{width:e,height:r,$:s}=Vt(t);let n=(s?lt(i.width):i.width)/e,a=(s?lt(i.height):i.height)/r;return(!n||!Number.isFinite(n))&&(n=1),(!a||!Number.isFinite(a))&&(a=1),{x:n,y:a}}const ke=M(0);function Kt(o){const t=k(o);return!Ot()||!t.visualViewport?ke:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Re(o,t,i){return t===void 0&&(t=!1),!i||t&&i!==k(o)?!1:t}function Z(o,t,i,e){t===void 0&&(t=!1),i===void 0&&(i=!1);const r=o.getBoundingClientRect(),s=Lt(o);let n=M(1);t&&(e?B(e)&&(n=tt(e)):n=tt(o));const a=Re(s,i,e)?Kt(s):M(0);let l=(r.left+a.x)/n.x,c=(r.top+a.y)/n.y,d=r.width/n.x,p=r.height/n.y;if(s){const f=k(s),u=e&&B(e)?k(e):e;let h=f,m=wt(h);for(;m&&e&&u!==h;){const w=tt(m),g=m.getBoundingClientRect(),E=F(m),T=g.left+(m.clientLeft+parseFloat(E.paddingLeft))*w.x,O=g.top+(m.clientTop+parseFloat(E.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,p*=w.y,l+=T,c+=O,h=k(m),m=wt(h)}}return dt({width:d,height:p,x:l,y:c})}function Ct(o,t){const i=mt(o).scrollLeft;return t?t.left+i:Z($(o)).left+i}function Ut(o,t,i){i===void 0&&(i=!1);const e=o.getBoundingClientRect(),r=e.left+t.scrollLeft-(i?0:Ct(o,e)),s=e.top+t.scrollTop;return{x:r,y:s}}function De(o){let{elements:t,rect:i,offsetParent:e,strategy:r}=o;const s=r==="fixed",n=$(e),a=t?ft(t.floating):!1;if(e===n||a&&s)return i;let l={scrollLeft:0,scrollTop:0},c=M(1);const d=M(0),p=H(e);if((p||!p&&!s)&&((rt(e)!=="body"||nt(n))&&(l=mt(e)),H(e))){const u=Z(e);c=tt(e),d.x=u.x+e.clientLeft,d.y=u.y+e.clientTop}const f=n&&!p&&!s?Ut(n,l,!0):M(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:i.y*c.y-l.scrollTop*c.y+d.y+f.y}}function Pe(o){return Array.from(o.getClientRects())}function Ie(o){const t=$(o),i=mt(o),e=o.ownerDocument.body,r=S(t.scrollWidth,t.clientWidth,e.scrollWidth,e.clientWidth),s=S(t.scrollHeight,t.clientHeight,e.scrollHeight,e.clientHeight);let n=-i.scrollLeft+Ct(o);const a=-i.scrollTop;return F(e).direction==="rtl"&&(n+=S(t.clientWidth,e.clientWidth)-r),{width:r,height:s,x:n,y:a}}function Be(o,t){const i=k(o),e=$(o),r=i.visualViewport;let s=e.clientWidth,n=e.clientHeight,a=0,l=0;if(r){s=r.width,n=r.height;const c=Ot();(!c||c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:n,x:a,y:l}}const Fe=new Set(["absolute","fixed"]);function Ne(o,t){const i=Z(o,!0,t==="fixed"),e=i.top+o.clientTop,r=i.left+o.clientLeft,s=H(o)?tt(o):M(1),n=o.clientWidth*s.x,a=o.clientHeight*s.y,l=r*s.x,c=e*s.y;return{width:n,height:a,x:l,y:c}}function Nt(o,t,i){let e;if(t==="viewport")e=Be(o,i);else if(t==="document")e=Ie($(o));else if(B(t))e=Ne(t,i);else{const r=Kt(o);e={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return dt(e)}function Wt(o,t){const i=q(o);return i===t||!B(i)||et(i)?!1:F(i).position==="fixed"||Wt(i,t)}function _e(o,t){const i=t.get(o);if(i)return i;let e=st(o,[],!1).filter(a=>B(a)&&rt(a)!=="body"),r=null;const s=F(o).position==="fixed";let n=s?q(o):o;for(;B(n)&&!et(n);){const a=F(n),l=At(n);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&Fe.has(r.position)||nt(n)&&!l&&Wt(o,n))?e=e.filter(d=>d!==n):r=a,n=q(n)}return t.set(o,e),e}function Me(o){let{element:t,boundary:i,rootBoundary:e,strategy:r}=o;const n=[...i==="clippingAncestors"?ft(t)?[]:_e(t,this._c):[].concat(i),e],a=n[0],l=n.reduce((c,d)=>{const p=Nt(t,d,r);return c.top=S(p.top,c.top),c.right=Y(p.right,c.right),c.bottom=Y(p.bottom,c.bottom),c.left=S(p.left,c.left),c},Nt(t,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function He(o){const{width:t,height:i}=Vt(o);return{width:t,height:i}}function $e(o,t,i){const e=H(t),r=$(t),s=i==="fixed",n=Z(o,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=M(0);function c(){l.x=Ct(r)}if(e||!e&&!s)if((rt(t)!=="body"||nt(r))&&(a=mt(t)),e){const u=Z(t,!0,s,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else r&&c();s&&!e&&r&&c();const d=r&&!e&&!s?Ut(r,a):M(0),p=n.left+a.scrollLeft-l.x-d.x,f=n.top+a.scrollTop-l.y-d.y;return{x:p,y:f,width:n.width,height:n.height}}function gt(o){return F(o).position==="static"}function _t(o,t){if(!H(o)||F(o).position==="fixed")return null;if(t)return t(o);let i=o.offsetParent;return $(o)===i&&(i=i.ownerDocument.body),i}function Gt(o,t){const i=k(o);if(ft(o))return i;if(!H(o)){let r=q(o);for(;r&&!et(r);){if(B(r)&&!gt(r))return r;r=q(r)}return i}let e=_t(o,t);for(;e&&xe(e)&&gt(e);)e=_t(e,t);return e&&et(e)&&gt(e)&&!At(e)?i:e||Ce(o)||i}const ze=async function(o){const t=this.getOffsetParent||Gt,i=this.getDimensions,e=await i(o.floating);return{reference:$e(o.reference,await t(o.floating),o.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function Ve(o){return F(o).direction==="rtl"}const Ke={convertOffsetParentRelativeRectToViewportRelativeRect:De,getDocumentElement:$,getClippingRect:Me,getOffsetParent:Gt,getElementRects:ze,getClientRects:Pe,getDimensions:He,getScale:tt,isElement:B,isRTL:Ve};function Yt(o,t){return o.x===t.x&&o.y===t.y&&o.width===t.width&&o.height===t.height}function Ue(o,t){let i=null,e;const r=$(o);function s(){var a;clearTimeout(e),(a=i)==null||a.disconnect(),i=null}function n(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=o.getBoundingClientRect(),{left:d,top:p,width:f,height:u}=c;if(a||t(),!f||!u)return;const h=at(p),m=at(r.clientWidth-(d+f)),w=at(r.clientHeight-(p+u)),g=at(d),T={rootMargin:-h+"px "+-m+"px "+-w+"px "+-g+"px",threshold:S(0,Y(1,l))||1};let O=!0;function A(D){const L=D[0].intersectionRatio;if(L!==l){if(!O)return n();L?n(!1,L):e=setTimeout(()=>{n(!1,1e-7)},1e3)}L===1&&!Yt(c,o.getBoundingClientRect())&&n(),O=!1}try{i=new IntersectionObserver(A,{...T,root:r.ownerDocument})}catch{i=new IntersectionObserver(A,T)}i.observe(o)}return n(!0),s}function We(o,t,i,e){e===void 0&&(e={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:n=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=e,c=Lt(o),d=r||s?[...c?st(c):[],...st(t)]:[];d.forEach(g=>{r&&g.addEventListener("scroll",i,{passive:!0}),s&&g.addEventListener("resize",i)});const p=c&&a?Ue(c,i):null;let f=-1,u=null;n&&(u=new ResizeObserver(g=>{let[E]=g;E&&E.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=u)==null||T.observe(t)})),i()}),c&&!l&&u.observe(c),u.observe(t));let h,m=l?Z(o):null;l&&w();function w(){const g=Z(o);m&&!Yt(m,g)&&i(),m=g,h=requestAnimationFrame(w)}return i(),()=>{var g;d.forEach(E=>{r&&E.removeEventListener("scroll",i),s&&E.removeEventListener("resize",i)}),p==null||p(),(g=u)==null||g.disconnect(),u=null,l&&cancelAnimationFrame(h)}}const Ge=ge,Ye=ye,je=fe,qe=be,Xe=he,Ze=(o,t,i)=>{const e=new Map,r={platform:Ke,...i},s={...r.platform,_c:e};return pe(o,t,{...r,platform:s})},Je=o=>{class t extends o{constructor(){super(...arguments),this.isBackdropInvisible=!1,this.backdropElement=null}createBackdrop(e){const r=document.createElement("div");r.classList.add(`${e}-backdrop`);const s=document.createElement("style");s.textContent=`
        .${e}-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: ${this.isBackdropInvisible?"transparent":"var(--mds-color-theme-common-overlays-secondary-normal)"};
          z-index: ${this.zIndex-1};
        }
      `,r.appendChild(s);const a=document.getElementById(this.backdropAppendTo)||this.parentElement;a==null||a.appendChild(r),this.backdropElement=r}removeBackdrop(){this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}keepElementAboveBackdrop(e){e&&(this.elementOriginalStyle={zIndex:e.style.zIndex,position:e.style.position},e.style.zIndex=`${this.zIndex}`,["fixed","absolute"].includes(window.getComputedStyle(e).position)||(e.style.position="relative"))}moveElementBackAfterBackdropRemoval(e){!e||!this.elementOriginalStyle||(e.style.zIndex=this.elementOriginalStyle.zIndex,e.style.position=this.elementOriginalStyle.position,this.elementOriginalStyle=void 0)}}return t};var Qe=Object.defineProperty,to=(o,t,i,e)=>{for(var r=void 0,s=o.length-1,n;s>=0;s--)(n=o[s])&&(r=n(t,i,r)||r);return r&&Qe(t,i,r),r};const pt=class pt{static get stackArray(){return Array.from(this.stack)}static addKeydownListener(t){this.currentKeydownListener=t,document.addEventListener("keydown",t)}static removeKeydownListener(){this.currentKeydownListener&&document.removeEventListener("keydown",this.currentKeydownListener)}static activate(t){this.stackArray.forEach(i=>{i!==t&&i.setIsFocusTrapActivated(!1)}),this.stack.add(t),this.removeKeydownListener(),this.addKeydownListener(t.handleTabKeydown.bind(t))}static deactivate(t){if(this.stack.has(t)&&(this.stack.delete(t),this.removeKeydownListener(),this.stack.size>0)){const i=this.stackArray.pop();i&&(i.setIsFocusTrapActivated(!0),this.addKeydownListener(i.handleTabKeydown.bind(i)))}}};pt.stack=new Set,pt.currentKeydownListener=null;let ut=pt;const eo=o=>{class t extends o{constructor(){super(...arguments),this.shouldFocusTrapWrap=!0,this.focusTrapIndex=-1,this.focusableElements=[],this.isFocusTrapActivated=!1}setIsFocusTrapActivated(e){this.isFocusTrapActivated=e}activateFocusTrap(){this.setIsFocusTrapActivated(!0),ut.activate(this)}deactivateFocusTrap(){this.setIsFocusTrapActivated(!1),ut.deactivate(this),this.focusTrapIndex=-1}hasNoClientRects(e){return e.getClientRects().length===0}hasZeroDimensions(e){const{width:r,height:s}=e.getBoundingClientRect(),{offsetWidth:n,offsetHeight:a}=e;return n+a+s+r===0}isNotVisible(e){return this.hasZeroDimensions(e)||this.hasNoClientRects(e)}hasHiddenStyle(e){const{display:r,opacity:s,visibility:n}=e.style;return r==="none"||s==="0"||n==="hidden"||n==="collapse"}hasComputedHidden(e){const r=getComputedStyle(e);return r.visibility==="hidden"||r.height==="0"||r.display==="none"}isHidden(e){return e.hasAttribute("hidden")||e.getAttribute("aria-hidden")==="true"||this.hasHiddenStyle(e)||this.isNotVisible(e)||this.hasComputedHidden(e)}isDisabled(e){return e.disabled}isNotTabbable(e){return e.getAttribute("tabindex")==="-1"}isInteractiveElement(e){return!!(new Set(["BUTTON","DETAILS","EMBED","IFRAME","SELECT","TEXTAREA"]).has(e.tagName)||e instanceof HTMLAnchorElement&&e.hasAttribute("href")||e instanceof HTMLInputElement&&e.type!=="hidden"||(e instanceof HTMLAudioElement||e instanceof HTMLVideoElement)&&e.hasAttribute("controls")||(e instanceof HTMLImageElement||e instanceof HTMLObjectElement)&&e.hasAttribute("usemap")||e.hasAttribute("tabindex")&&e.tabIndex>-1)}isFocusable(e){return this.isHidden(e)||this.isNotTabbable(e)||this.isDisabled(e)?!1:this.isInteractiveElement(e)}findFocusable(e,r=new Set){e instanceof HTMLElement&&this.isFocusable(e)&&r.add(e);let s=[];return e.children.length?s=Array.from(e.children):e instanceof HTMLElement&&e.shadowRoot&&(s=Array.from(e.shadowRoot.children)),s.forEach(n=>{const a=n;this.isFocusable(a)&&r.add(a),a.shadowRoot?this.findFocusable(a.shadowRoot,r):a.tagName==="SLOT"?a.assignedElements({flatten:!0}).forEach(c=>{c instanceof HTMLElement&&this.findFocusable(c,r)}):this.findFocusable(a,r)}),[...r]}setFocusableElements(){this.shadowRoot&&(this.focusableElements=this.findFocusable(this.shadowRoot,new Set))}setInitialFocus(e=0){this.setFocusableElements(),!(this.focusableElements.length===0||!this.focusTrap)&&this.focusableElements[e]&&(this.focusTrapIndex=e,this.focusableElements[e].focus({preventScroll:!0}))}calculateNextIndex(e,r){const{length:s}=this.focusableElements;if(e===-1)return r>0?0:s-1;let n=e+r;return this.shouldFocusTrapWrap?(n<0&&(n=s-1),n>=s&&(n=0)):(n<0&&(n=0),n>=s&&(n=s-1)),n}getDeepActiveElement(){var r;let e=document.activeElement||document.body;for(;e instanceof HTMLElement&&((r=e.shadowRoot)!=null&&r.activeElement);)e=e.shadowRoot.activeElement;return e||document.body}findElement(e){return this.focusableElements.findIndex(r=>this.isEqualFocusNode(e,r))}isEqualFocusNode(e,r){return e.nodeType>=0?r.isEqualNode(e)&&r===e:!1}trapFocus(e){if(this.setFocusableElements(),this.focusableElements.length===0)return;const r=this.getDeepActiveElement(),s=this.findElement(r);e.shiftKey?this.focusTrapIndex=this.calculateNextIndex(s,-1):this.focusTrapIndex=this.calculateNextIndex(s,1);const a=this.focusableElements[this.focusTrapIndex];a.tagName!=="IFRAME"&&a&&(e.preventDefault(),a.focus())}handleTabKeydown(e){this.isFocusTrapActivated&&e.key==="Tab"&&this.trapFocus(e)}}return to([y({type:Boolean,reflect:!0,attribute:"should-focus-trap-wrap"})],t.prototype,"shouldFocusTrapWrap"),t},oo=o=>{class t extends o{constructor(){super(...arguments),this.isPreventScrollActive=!1,this.previousDocumentBodyStyleOverflow=""}activatePreventScroll(){this.preventScroll&&!this.isPreventScrollActive&&(this.isPreventScrollActive=!0,this.previousDocumentBodyStyleOverflow=document.body.style.overflow,document.body.style.overflow="hidden")}deactivatePreventScroll(){this.isPreventScrollActive&&(this.isPreventScrollActive=!1,document.body.style.overflow=this.previousDocumentBodyStyleOverflow)}}return t},vo=ee.constructTagName("popover"),jt={LEFT_START:"left-start",LEFT:"left",LEFT_END:"left-end",RIGHT_START:"right-start",RIGHT:"right",RIGHT_END:"right-end",TOP_START:"top-start",TOP:"top",TOP_END:"top-end",BOTTOM_START:"bottom-start",BOTTOM:"bottom",BOTTOM_END:"bottom-end"},qt={CLICK:"click",MOUSEENTER:"mouseenter",FOCUSIN:"focusin",MANUAL:"manual"},Xt={TONAL:"tonal",CONTRAST:"contrast"},x={PLACEMENT:jt.BOTTOM,TRIGGER:qt.CLICK,COLOR:Xt.TONAL,OFFSET:4,BOUNDARY:"clippingAncestors",BOUNDARY_ROOT:"viewport",BOUNDARY_PADDING:0,VISIBLE:!1,ARROW:!1,CLOSE_BUTTON:!1,FOCUS_TRAP:!1,INTERACTIVE:!1,PREVENT_SCROLL:!1,HIDE_ON_ESCAPE:!1,HIDE_ON_BLUR:!1,HIDE_ON_CLICK_OUTSIDE:!1,FOCUS_BACK:!1,BACKDROP:!1,FLIP:!0,SIZE:!1,DELAY:"0,0",ROLE:"dialog",Z_INDEX:1e3,DISABLE_ARIA_EXPANDED:!1,PROPAGATE_EVENT_ON_ESCAPE:!1,KEEP_CONNECTED_TOOLTIP_CLOSED:!0,STRATEGY:"absolute",IS_BACKDROP_INVISIBLE:!0};class J{static dispatchPopoverEvent(t,i){i.dispatchEvent(new CustomEvent(t,{detail:{show:i.visible},composed:!0,bubbles:!0}))}static onShowPopover(t){this.dispatchPopoverEvent("shown",t)}static onHidePopover(t){this.dispatchPopoverEvent("hidden",t)}static onCreatedPopover(t){this.dispatchPopoverEvent("created",t)}static onDestroyedPopover(t){this.dispatchPopoverEvent("destroyed",t)}static onEscapeKeyPressed(t){this.dispatchPopoverEvent("closebyescape",t)}static onClickOutside(t){this.dispatchPopoverEvent("closebyoutsideclick",t)}}class io{constructor(){this.stack=[]}push(t){this.stack.push(t)}pop(){return this.stack.pop()}peek(){return this.stack[this.stack.length-1]}remove(t){this.stack=this.stack.filter(i=>i!==t)}has(t){return this.stack.includes(t)}clear(){this.stack=[]}}const Q=new io,ro=Qt`
  :host {
    --mdc-popover-arrow-border-radius: 0.1875rem;
    --mdc-popover-arrow-border: 0.0625rem solid var(--mds-color-theme-outline-secondary-normal);

    --mdc-popover-primary-background-color: var(--mds-color-theme-background-solid-primary-normal);
    --mdc-popover-border-color: var(--mds-color-theme-outline-secondary-normal);
    --mdc-popover-inverted-background-color: var(--mds-color-theme-inverted-background-normal);
    --mdc-popover-inverted-border-color: var(--mds-color-theme-inverted-outline-primary-normal);
    --mdc-popover-inverted-text-color: var(--mds-color-theme-inverted-text-primary-normal);
    --mdc-popover-elevation-3: var(--mds-elevation-3);
    --mdc-popover-width: unset;
    --mdc-popover-max-width: max-content;
    --mdc-popover-max-height: auto;

    display: none;
    position: absolute;
    top: 0;
    left: 0;

    box-sizing: content-box;
    background-color: var(--mdc-popover-primary-background-color);
    border-radius: 0.5rem;
    border: 0.0625rem solid var(--mdc-popover-border-color);
    filter: var(--mdc-popover-elevation-3);
    max-width: var(--mdc-popover-max-width);
    width: var(--mdc-popover-width, var(--mdc-popover-max-width));
  }

  :host([strategy='absolute']) {
    position: absolute;
  }

  :host([strategy='fixed']) {
    position: fixed;
  }

  :host([visible]) {
    display: block;
  }

  :host([color='contrast']) {
    background-color: var(--mdc-popover-inverted-background-color);
    border-color: var(--mdc-popover-inverted-border-color);
    color: var(--mdc-popover-inverted-text-color);
  }

  :host([color='contrast']) .popover-arrow {
    background-color: var(--mdc-popover-inverted-background-color);
    border-color: var(--mdc-popover-inverted-border-color);
  }

  :host([color='contrast']) .popover-close {
    color: var(--mdc-popover-inverted-text-color);
  }

  :host::part(popover-content) {
    position: relative;
    cursor: default;
    padding: 0.75rem;
    z-index: 9998;
    max-height: var(--mdc-popover-max-height);
  }

  .popover-hover-bridge {
    position: absolute;
    transform: translateX(-50%);
    background: transparent;
    pointer-events: auto;
  }

  .popover-arrow {
    position: absolute;
    width: 1rem;
    height: 1rem;
    background-color: var(--mdc-popover-primary-background-color);
    transform: rotate(45deg);
    pointer-events: none;
    border: var(--mdc-popover-arrow-border);
  }

  .popover-close {
    box-sizing: border-box;
    position: absolute;
    right: 0.75rem;
    top: 0.75rem;
    cursor: pointer;
    z-index: 9999;
  }

  :host(:dir(rtl)) .popover-close {
    right: auto;
    left: 0.75rem;
  }

  .popover-arrow[data-side='top'] {
    border-top: none;
    border-left: none;
    border-bottom-right-radius: var(--mdc-popover-arrow-border-radius);
    border-top-left-radius: 100%;
  }

  .popover-arrow[data-side='bottom'] {
    border-bottom: none;
    border-right: none;
    border-top-left-radius: var(--mdc-popover-arrow-border-radius);
    border-bottom-right-radius: 100%;
  }

  .popover-arrow[data-side='right'] {
    border-top: none;
    border-right: none;
    border-bottom-left-radius: var(--mdc-popover-arrow-border-radius);
    border-top-right-radius: 100%;
  }

  .popover-arrow[data-side='left'] {
    border-bottom: none;
    border-left: none;
    border-top-right-radius: var(--mdc-popover-arrow-border-radius);
    border-bottom-left-radius: 100%;
  }
`,so=[ro];class no{constructor(t){this.arrowPixelChange=!1,this.popover=t}setupDelay(){try{const[t,i]=this.popover.delay.split(",").map(e=>{const r=parseInt(e,10);if(Number.isNaN(r)||r<0)throw new Error(`Invalid delay value: ${e}`);return r});return[t,i]}catch{return this.popover.delay="0,0",[0,0]}}setupHoverBridge(t){const i=this.popover.renderRoot.querySelector(".popover-hover-bridge");Object.assign(i.style,{top:"",left:"",right:"",bottom:""});const e=`calc(${this.popover.showArrow?"0.75rem + ":""}${this.popover.offset}px)`,r=this.popover.offsetHeight||0,s=this.popover.offsetWidth||0;if(i)switch(t.split("-")[0]){case"top":i.style.height=e,i.style.bottom=`calc(-1 * (${e}))`,i.style.left="50%",i.style.width=`${s}px`;break;case"left":i.style.height=`${r}px`,i.style.width=e,i.style.right=`calc(-1.5 * (${e}))`;break;case"right":i.style.height=`${r}px`,i.style.width=e,i.style.left=`calc(-0.5 * (${e}))`;break;case"bottom":default:i.style.height=e,i.style.top=`calc(-1 * (${e}))`,i.style.left="50%",i.style.width=`${s}px`;break}}setupAppendTo(){if(this.popover.appendTo){const t=document.getElementById(this.popover.appendTo);t&&t.appendChild(this.popover)}}updateAriaLabels(){var t,i,e;this.popover.interactive&&this.popover.role&&(this.popover.ariaLabel||(this.popover.ariaLabel=((t=this.popover.triggerElement)==null?void 0:t.ariaLabel)||((i=this.popover.triggerElement)==null?void 0:i.textContent)||""),this.popover.ariaLabelledby||(this.popover.ariaLabelledby=((e=this.popover.triggerElement)==null?void 0:e.id)||""))}updateAriaModal(){this.popover.role===Dt.DIALOG||this.popover.role===Dt.ALERTDIALOG?this.popover.setAttribute("aria-modal","true"):this.popover.removeAttribute("aria-modal")}updateAriaExpandedAttribute(){var t,i,e;this.popover.disableAriaExpanded||((t=this.popover.triggerElement)==null||t.setAttribute("aria-expanded",`${this.popover.visible}`),(e=this.popover.triggerElement)==null||e.setAttribute("aria-haspopup",((i=this.popover.triggerElement)==null?void 0:i.getAttribute("aria-haspopup"))||this.popover.role||"dialog"))}updateArrowStyle(t,i){var d;if(!this.popover.arrowElement)return;const e=i.split("-")[0],r={top:"bottom",right:"left",bottom:"top",left:"right"}[e],{x:s,y:n}=t,a=this.popover.arrowElement.getBoundingClientRect(),l=(d=this.popover.arrowElement.offsetParent)==null?void 0:d.getBoundingClientRect();if(!this.arrowPixelChange){const p=l!=null&&l[r]?12-Math.abs(a[r]-l[r]):0;Math.round(p)===1?this.arrowPixelChange=!0:this.arrowPixelChange=!1}const c=this.arrowPixelChange?.5:0;this.popover.arrowElement.setAttribute("data-side",e),Object.assign(this.popover.arrowElement.style,{left:s!=null?`${s}px`:"",top:n!=null?`${n}px`:"",[r]:`${-this.popover.arrowElement.offsetHeight/2-c}px`})}updatePopoverStyle(t,i){Object.assign(this.popover.style,{left:`${t}px`,top:`${i}px`})}}var ao=Object.defineProperty,b=(o,t,i,e)=>{for(var r=void 0,s=o.length-1,n;s>=0;s--)(n=o[s])&&(r=n(t,i,r)||r);return r&&ao(t,i,r),r};const St=class St extends Je(oo(eo(Rt))){constructor(){super(),this.id="",this.triggerID="",this.trigger=x.TRIGGER,this.placement=x.PLACEMENT,this.color=x.COLOR,this.visible=x.VISIBLE,this.offset=x.OFFSET,this.boundary=x.BOUNDARY,this.boundaryRoot=x.BOUNDARY_ROOT,this.focusTrap=x.FOCUS_TRAP,this.preventScroll=x.PREVENT_SCROLL,this.showArrow=x.ARROW,this.closeButton=x.CLOSE_BUTTON,this.interactive=x.INTERACTIVE,this.delay=x.DELAY,this.hideOnEscape=x.HIDE_ON_ESCAPE,this.propagateEventOnEscape=x.PROPAGATE_EVENT_ON_ESCAPE,this.hideOnBlur=x.HIDE_ON_BLUR,this.hideOnOutsideClick=x.HIDE_ON_CLICK_OUTSIDE,this.focusBackToTrigger=x.FOCUS_BACK,this.backdrop=x.BACKDROP,this.isBackdropInvisible=x.IS_BACKDROP_INVISIBLE,this.flip=x.FLIP,this.size=x.SIZE,this.zIndex=x.Z_INDEX,this.closeButtonAriaLabel=null,this.strategy=x.STRATEGY,this.role=x.ROLE,this.ariaLabelledby=null,this.ariaDescribedby=null,this.disableAriaExpanded=x.DISABLE_ARIA_EXPANDED,this.keepConnectedTooltipClosed=x.KEEP_CONNECTED_TOOLTIP_CLOSED,this.arrowElement=null,this.hoverTimer=null,this.isHovered=!1,this.openDelay=0,this.closeDelay=0,this.floatingUICleanupFunction=null,this.shouldSuppressOpening=!1,this.parseTrigger=()=>{var r;let e=(((r=this.trigger)==null?void 0:r.split(" "))||[]).filter(s=>Object.values(qt).includes(s)).length>0?this.trigger:x.TRIGGER;e==="mouseenter"&&(this.interactive?e="mouseenter click":e="mouseenter focusin"),this.trigger=e},this.setupTriggerListeners=()=>{if(this.trigger.includes("click")&&document.addEventListener("click",this.togglePopoverVisible,{capture:!0}),this.trigger.includes("mouseenter")){const t=this.renderRoot.querySelector(".popover-hover-bridge");t==null||t.addEventListener("mouseenter",this.show),document.addEventListener("mouseenter",this.handleMouseEnter,{capture:!0}),document.addEventListener("mouseleave",this.handleMouseLeave,{capture:!0}),this.addEventListener("mouseenter",this.cancelCloseDelay),this.addEventListener("mouseleave",this.startCloseDelay)}this.trigger.includes("focusin")&&(document.addEventListener("focusin",this.handleFocusIn,{capture:!0}),this.interactive||document.addEventListener("focusout",this.handleFocusOut,{capture:!0}))},this.removeTriggerListeners=()=>{document.removeEventListener("click",this.togglePopoverVisible,{capture:!0});const t=this.renderRoot.querySelector(".popover-hover-bridge");t==null||t.removeEventListener("mouseenter",this.show),document.removeEventListener("mouseenter",this.handleMouseEnter,{capture:!0}),document.removeEventListener("mouseleave",this.handleMouseLeave,{capture:!0}),this.removeEventListener("mouseenter",this.cancelCloseDelay),this.removeEventListener("mouseleave",this.startCloseDelay),document.removeEventListener("focusin",this.handleFocusIn,{capture:!0}),document.removeEventListener("focusout",this.handleFocusOut,{capture:!0})},this.removeAllListeners=()=>{this.removeTriggerListeners(),this.hideOnOutsideClick&&document.removeEventListener("click",this.onOutsidePopoverClick,{capture:!0}),this.hideOnEscape&&(this.removeEventListener("keydown",this.onEscapeKeydown),document.removeEventListener("keydown",this.onEscapeKeydown,{capture:!0})),this.hideOnBlur&&this.removeEventListener("focusout",this.onPopoverFocusOut)},this.onOutsidePopoverClick=t=>{if(Q.peek()!==this)return;const i=t.composedPath(),e=this.contains(t.target)||i.includes(this.triggerElement)||i.includes(this),r=this.backdropElement?i.includes(this.backdropElement):!1;(!e||r)&&(this.hide(),J.onClickOutside(this))},this.onEscapeKeydown=t=>{!this.visible||t.code!=="Escape"||(this.propagateEventOnEscape||t.stopPropagation(),t.preventDefault(),this.hide(),J.onEscapeKeyPressed(this))},this.onPopoverFocusOut=t=>{this.contains(t.relatedTarget)||this.hide()},this.handleMouseEnter=t=>{this.isEventFromTrigger(t)&&(this.isHovered=!0,this.show())},this.handleMouseLeave=t=>{this.isEventFromTrigger(t)&&(this.isHovered=!1,this.startCloseDelay())},this.handleFocusOut=t=>{this.isEventFromTrigger(t)&&(this.isHovered||this.hide())},this.handleFocusIn=t=>{var i;this.isEventFromTrigger(t)&&((i=this.triggerElement)!=null&&i.matches(":focus-visible")||this.isHovered)&&this.show()},this.startCloseDelay=()=>{this.interactive?this.hoverTimer=window.setTimeout(()=>{this.visible=!1},this.closeDelay):this.hide()},this.cancelCloseDelay=()=>{this.hoverTimer&&(window.clearTimeout(this.hoverTimer),this.hoverTimer=null)},this.show=()=>{this.visible||this.shouldSuppressOpening||(this.cancelCloseDelay(),this.openDelay>0?setTimeout(()=>{this.visible=!0},this.openDelay):this.visible=!0)},this.hide=()=>{this.closeDelay?setTimeout(()=>{this.visible=!1},this.closeDelay):this.visible=!1},this.togglePopoverVisible=t=>{this.isEventFromTrigger(t)&&(this.visible?this.hide():this.show())},this.positionPopover=()=>{const{triggerElement:t}=this;if(!t)return;const i=!this.boundary||this.boundary==="clippingAncestors"?"clippingAncestors":Array.from(document.querySelectorAll(this.boundary)),e=this.boundaryRoot,r=[Ye({boundary:i,rootBoundary:e,padding:this.boundaryPadding})];let s=this.offset;if(this.flip&&r.push(je({boundary:i,rootBoundary:e})),this.size){const n=l=>{this.style.setProperty("--mdc-popover-internal-available-height",`${l}px`)},a=this.renderRoot.querySelector('[part="popover-content"]');r.push(qe({boundary:i,rootBoundary:e,apply({availableHeight:l}){a&&(Object.assign(a.style,{maxHeight:`${l}px`,overflowY:"auto"}),n(l))},padding:50}))}if(this.showArrow&&(this.arrowElement=this.renderRoot.querySelector(".popover-arrow"),this.arrowElement)){const n=this.arrowElement.offsetHeight,a=Math.sqrt(2*n**2)/2;s+=a,r.push(Xe({element:this.arrowElement,padding:12}))}r.push(Ge(s)),this.floatingUICleanupFunction=We(t,this,async()=>{const{triggerElement:n}=this;if(!n)return;const{x:a,y:l,middlewareData:c,placement:d}=await Ze(n,this,{placement:this.placement,middleware:r,strategy:this.strategy});this.utils.updatePopoverStyle(a,l),c.arrow&&this.arrowElement&&this.utils.updateArrowStyle(c.arrow,d),this.trigger.includes("mouseenter")&&this.interactive&&this.utils.setupHoverBridge(d)})},this.utils=new no(this),this.parseTrigger(),[this.openDelay,this.closeDelay]=this.utils.setupDelay()}get connectedTooltip(){const t=this.getRootNode().querySelectorAll(`mdc-tooltip[triggerID="${this.triggerID}"]`);return Array.from(t).find(i=>i!==this)}get triggerElement(){return this.getRootNode().querySelector(`[id="${this.triggerID}"]`)}async firstUpdated(t){super.firstUpdated(t),this.style.zIndex=`${this.zIndex}`,this.utils.setupAppendTo(),J.onCreatedPopover(this)}connectedCallback(){super.connectedCallback(),this.setupTriggerListeners()}async disconnectedCallback(){var t,i;super.disconnectedCallback(),this.removeAllListeners(),(t=this.deactivateFocusTrap)==null||t.call(this),this.deactivatePreventScroll(),this.moveElementBackAfterBackdropRemoval(this.triggerElement),this.removeBackdrop(),(i=this.floatingUICleanupFunction)==null||i.call(this),this.cancelCloseDelay(),this.keepConnectedTooltipClosed&&this.connectedTooltip&&(this.connectedTooltip.shouldSuppressOpening=!1),J.onDestroyedPopover(this),Q.remove(this)}async updated(t){if(super.updated(t),t.has("visible")){const i=t.get("visible")||!1;await this.isOpenUpdated(i,this.visible),this.utils.updateAriaExpandedAttribute()}t.has("trigger")&&(this.parseTrigger(),this.removeTriggerListeners(),this.setupTriggerListeners()),t.has("placement")&&this.setAttribute("placement",Object.values(jt).includes(this.placement)?this.placement:x.PLACEMENT),t.has("delay")&&([this.openDelay,this.closeDelay]=this.utils.setupDelay()),t.has("color")&&this.setAttribute("color",Object.values(Xt).includes(this.color)?this.color:x.COLOR),t.has("zIndex")&&this.setAttribute("z-index",`${this.zIndex}`),t.has("append-to")&&this.utils.setupAppendTo(),(t.has("interactive")||t.has("aria-label")||t.has("aria-labelledby"))&&this.utils.updateAriaLabels(),t.has("role")&&(this.role===""&&(this.role=null),this.utils.updateAriaModal()),t.has("disableAriaExpanded")&&this.utils.updateAriaExpandedAttribute(),t.has("focusTrap")&&!this.focusTrap&&this.visible&&this.deactivateFocusTrap(),t.has("preventScroll")&&(!this.preventScroll&&this.visible?this.deactivatePreventScroll():this.preventScroll&&this.visible&&this.activatePreventScroll())}async isOpenUpdated(t,i){var r,s;const{triggerElement:e}=this;t===i||!e||(i&&!this.shouldSuppressOpening?(Q.peek()!==this&&Q.push(this),this.keepConnectedTooltipClosed&&this.connectedTooltip&&(this.connectedTooltip.visible=!1,this.connectedTooltip.shouldSuppressOpening=!0),this.backdrop&&!this.backdropElement&&(this.createBackdrop("popover"),this.keepElementAboveBackdrop(e)),this.positionPopover(),this.hideOnBlur&&(this.addEventListener("focusout",this.onPopoverFocusOut),this.trigger==="click"&&(e.style.pointerEvents="none")),this.hideOnEscape&&(this.addEventListener("keydown",this.onEscapeKeydown),document.addEventListener("keydown",this.onEscapeKeydown)),this.activatePreventScroll(),this.hideOnOutsideClick&&document.addEventListener("click",this.onOutsidePopoverClick,{capture:!0}),setTimeout(()=>{var n,a;this.interactive&&this.focusTrap&&((n=this.activateFocusTrap)==null||n.call(this),(a=this.setInitialFocus)==null||a.call(this))},0),J.onShowPopover(this)):(Q.peek()===this&&Q.pop(),(r=this.floatingUICleanupFunction)==null||r.call(this),this.backdrop&&(this.moveElementBackAfterBackdropRemoval(e),this.removeBackdrop()),this.hideOnBlur&&(this.removeEventListener("focusout",this.onPopoverFocusOut),this.trigger==="click"&&(e.style.pointerEvents="")),this.hideOnOutsideClick&&document.removeEventListener("click",this.onOutsidePopoverClick,{capture:!0}),this.hideOnEscape&&(this.removeEventListener("keydown",this.onEscapeKeydown),document.removeEventListener("keydown",this.onEscapeKeydown)),this.deactivatePreventScroll(),(s=this.deactivateFocusTrap)==null||s.call(this),this.focusBackToTrigger&&(e==null||e.focus()),this.keepConnectedTooltipClosed&&this.connectedTooltip&&(this.connectedTooltip.shouldSuppressOpening=!1),J.onHidePopover(this)))}isEventFromTrigger(t){var i;return t.composed?t.composedPath().some(e=>(e==null?void 0:e.id)===this.triggerID):((i=t.target)==null?void 0:i.id)===this.triggerID}render(){return vt`
      <div class="popover-hover-bridge"></div>
      ${this.closeButton?vt` <mdc-button
            class="popover-close"
            prefix-icon="cancel-bold"
            variant="tertiary"
            size="20"
            aria-label=${te(this.closeButtonAriaLabel)||""}
            @click="${this.hide}"
          ></mdc-button>`:kt}
      ${this.showArrow?vt`<div class="popover-arrow"></div>`:kt}
      <div part="popover-content">
        <slot></slot>
      </div>
    `}};St.styles=[...Rt.styles,...so];let v=St;b([y({type:String,reflect:!0})],v.prototype,"id");b([y({type:String,reflect:!0})],v.prototype,"triggerID");b([y({type:String,reflect:!0})],v.prototype,"trigger");b([y({type:String,reflect:!0})],v.prototype,"placement");b([y({type:String,reflect:!0})],v.prototype,"color");b([y({type:Boolean,reflect:!0})],v.prototype,"visible");b([y({type:Number,reflect:!0})],v.prototype,"offset");b([y({type:String,reflect:!0,attribute:"boundary"})],v.prototype,"boundary");b([y({type:String,reflect:!0,attribute:"boundary-root"})],v.prototype,"boundaryRoot");b([y({type:Number,reflect:!0,attribute:"boundary-padding"})],v.prototype,"boundaryPadding");b([y({type:Boolean,reflect:!0,attribute:"focus-trap"})],v.prototype,"focusTrap");b([y({type:Boolean,reflect:!0,attribute:"prevent-scroll"})],v.prototype,"preventScroll");b([y({type:Boolean,reflect:!0,attribute:"show-arrow"})],v.prototype,"showArrow");b([y({type:Boolean,reflect:!0,attribute:"close-button"})],v.prototype,"closeButton");b([y({type:Boolean,reflect:!0})],v.prototype,"interactive");b([y({type:String,reflect:!0})],v.prototype,"delay");b([y({type:Boolean,reflect:!0,attribute:"hide-on-escape"})],v.prototype,"hideOnEscape");b([y({type:Boolean,reflect:!0,attribute:"propagate-event-on-escape"})],v.prototype,"propagateEventOnEscape");b([y({type:Boolean,reflect:!0,attribute:"hide-on-blur"})],v.prototype,"hideOnBlur");b([y({type:Boolean,reflect:!0,attribute:"hide-on-outside-click"})],v.prototype,"hideOnOutsideClick");b([y({type:Boolean,reflect:!0,attribute:"focus-back-to-trigger"})],v.prototype,"focusBackToTrigger");b([y({type:Boolean,reflect:!0})],v.prototype,"backdrop");b([y({type:String,reflect:!0,attribute:"backdrop-append-to"})],v.prototype,"backdropAppendTo");b([y({type:Boolean,reflect:!0,attribute:"is-backdrop-invisible"})],v.prototype,"isBackdropInvisible");b([y({type:Boolean,reflect:!0})],v.prototype,"flip");b([y({type:Boolean,reflect:!0})],v.prototype,"size");b([y({type:Number,reflect:!0,attribute:"z-index"})],v.prototype,"zIndex");b([y({type:String,reflect:!0,attribute:"append-to"})],v.prototype,"appendTo");b([y({type:String,attribute:"close-button-aria-label",reflect:!0})],v.prototype,"closeButtonAriaLabel");b([y({type:String,reflect:!0,attribute:"strategy"})],v.prototype,"strategy");b([y({type:String,reflect:!0})],v.prototype,"role");b([y({type:String,reflect:!0,attribute:"aria-labelledby"})],v.prototype,"ariaLabelledby");b([y({type:String,reflect:!0,attribute:"aria-describedby"})],v.prototype,"ariaDescribedby");b([y({type:Boolean,reflect:!0,attribute:"disable-aria-expanded"})],v.prototype,"disableAriaExpanded");b([y({type:Boolean,reflect:!0,attribute:"keep-connected-tooltip-closed"})],v.prototype,"keepConnectedTooltipClosed");export{Je as B,Xt as C,x as D,eo as F,v as P,vo as T,jt as a,qt as b,oo as c,mo as n,Q as p};
